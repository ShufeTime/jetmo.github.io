{"meta":{"title":"Leejia Blog","subtitle":"å›å­ä¹‹å¿ƒï¼Œå¸¸æ€€æ•¬ç•.","description":null,"author":"Leejia","url":"https://www.leejia.me"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2018-09-23T03:53:56.003Z","updated":"2018-09-22T02:27:26.706Z","comments":false,"path":"/404.html","permalink":"https://www.leejia.me//404.html","excerpt":"","text":""},{"title":"å…³äº","date":"2018-10-08T07:44:53.336Z","updated":"2018-10-08T07:44:53.336Z","comments":false,"path":"about/index.html","permalink":"https://www.leejia.me/about/index.html","excerpt":"","text":"123456789101112131415161718192021222324252627282930&#123; name: 'Leejia' age: 25, gender: 'ç”·', profession: 'åç«¯, çˆ¬è™«', experience: '2å¹´', address: 'æµ™æ±Ÿçœæ­å·å¸‚', education: 'æœ¬ç§‘', github: 'https://github.com/shufetime', blog: 'https://www.leejia.me', email: 'molee@live.com', description: 'å›å­ä¹‹å¿ƒï¼Œå¸¸æ€€æ•¬ç•.', skills: [ ['Python', 'Javascript', 'jQuery', 'Vue', 'Css', 'PHP'], ['Git', 'Docker', 'Celery'], ['Flask', 'Tornado', 'Django'], ['Mysql', 'MongoDB', 'Redis'] ['WordPress', 'Typecho', 'Hexo', 'XiunoPHP'], ], devTools: [ ['Pycharm', 'Visual Studio Code', 'Sublime Text', 'Notepad++','Jupyter-notebook', 'Postman', 'HTTP'], ['Chrome DevTools', 'Fiddler', 'Charles', 'WireShark'], ['SourceTree', 'StartUML', 'Navicat Premium'], ['ShadowsocksX', 'Typora', 'Expressions'], ['VMware Fusion', 'XMind ZEN', 'SnippetsLab', 'Dash', 'iTerm2'], ['zsh', 'oh-my-zsh', 'vim', ] ] &#125;"},{"title":"ä¹¦å•","date":"2018-09-23T03:53:56.105Z","updated":"2018-09-21T06:59:01.996Z","comments":false,"path":"books/index.html","permalink":"https://www.leejia.me/books/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2018-09-23T03:53:56.121Z","updated":"2018-09-21T06:59:01.996Z","comments":true,"path":"links/index.html","permalink":"https://www.leejia.me/links/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2018-09-23T03:53:56.110Z","updated":"2018-09-21T06:59:01.996Z","comments":false,"path":"categories/index.html","permalink":"https://www.leejia.me/categories/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2018-09-23T03:53:56.126Z","updated":"2018-09-21T06:59:01.996Z","comments":false,"path":"repository/index.html","permalink":"https://www.leejia.me/repository/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2018-09-23T03:53:56.131Z","updated":"2018-09-21T06:59:01.997Z","comments":false,"path":"tags/index.html","permalink":"https://www.leejia.me/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"pythonåˆ—è¡¨çš„extendæ–¹æ³•","slug":"pythonåˆ—è¡¨çš„extendæ–¹æ³•","date":"2018-10-10T03:57:19.000Z","updated":"2018-10-10T14:49:27.066Z","comments":true,"path":"python/python_list_extend.html","link":"","permalink":"https://www.leejia.me/python/python_list_extend.html","excerpt":"","text":"è¶Šæ˜¯æˆ‘ä»¥ä¸ºç†Ÿæ‚‰çš„çŸ¥è¯†,ç»†ç»†ç ”ç©¶è¶Šèƒ½æœ‰ä¸€äº›æ–°çš„å‘ç°.ä»Šå¤©åœ¨ä½¿ç”¨åˆ—è¡¨çš„æ—¶å€™,æœ‰äº†æ–°çš„å‘ç°. è¿™ä¸ªç‚¹æ˜¯ç‹ä¹‹å‰ä¸€ç›´æ²¡æœ‰æ³¨æ„åˆ°çš„é—®é¢˜.åˆ—è¡¨çš„extend()æ–¹æ³•åªèƒ½ä¼ å¯è¿­ä»£å¯¹è±¡,å¦‚æœæ˜¯ä¸å¯è¿­ä»£å¯¹è±¡ä¼šæŠ¥é”™.å¦‚æœä¼ å…¥çš„æ˜¯å­—å…¸.é‚£ä¹ˆä¼šæ·»åŠ å­—å…¸çš„é”®åˆ°åˆ—è¡¨ä¸­, å…·ä½“çœ‹ä»£ç (æ³¨é‡Š) 12345678910111213141516171819202122232425262728293031323334353637383940414243In [2]: li = list() # å®šä¹‰ä¸€ä¸ªç©ºåˆ—è¡¨In [3]: a = &#123;'lijia': 123&#125; In [4]: li.extend(a)In [5]: liOut[5]: ['lijia'] # å¯ä»¥çœ‹å‡ºåªèƒ½æ·»åŠ å­—å…¸açš„é”®In [6]: b = [1,2,3]In [7]: li.extend(b)In [8]: liOut[8]: ['lijia', 1, 2, 3]In [9]: c = &#123;a: 3&#125; # è¿™ç²’å®šä¹‰äº†ä¸€ä¸ªé”™è¯¯çš„å­—å…¸....------------------------------------------------------------------------TypeError Traceback (most recent call last)&lt;ipython-input-9-198aa74edb36&gt; in &lt;module&gt;()----&gt; 1 c = &#123;a: 3&#125;TypeError: unhashable type: 'dict'In [10]: c = &#123;'2': 3&#125;In [11]: li.extend(c)In [12]: liOut[12]: ['lijia', 1, 2, 3, '2'] # åªæŠŠå­—å…¸c çš„é”®In [13]: d = 456666 # æ•´å‹d ä¸å¯è¿­ä»£In [14]: li.extend(d)---------------------------------------------------------------------------TypeError Traceback (most recent call last)&lt;ipython-input-14-7f659be96b91&gt; in &lt;module&gt;()----&gt; 1 li.extend(d)TypeError: 'int' object is not iterableIn [15]: OK æ”¶å·¥.","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/tags/python/"},{"name":"list","slug":"list","permalink":"https://www.leejia.me/tags/list/"},{"name":"extend","slug":"extend","permalink":"https://www.leejia.me/tags/extend/"}]},{"title":"apschedulerå‡ºç°Unable to determine the name of the local timezoneçš„è§£å†³æ–¹æ³•","slug":"apschedulerå‡ºç°Unable-to-determine-the-name-of-the-local-timezoneçš„è§£å†³æ–¹æ³•","date":"2018-10-09T10:23:39.000Z","updated":"2018-10-09T10:30:06.619Z","comments":true,"path":"python/Unable-to-determine-the-name-of-the-local-timezone.html","link":"","permalink":"https://www.leejia.me/python/Unable-to-determine-the-name-of-the-local-timezone.html","excerpt":"","text":"ä»Šå¤©å†™äº†ä¸€ä¸ªå®šæ—¶ä»»åŠ¡,å®ç°æ¯å¤©æ¨é€ä¿¡æ¯åˆ°å¾®ä¿¡ä¸Š, ä»£ç åœ¨macbookpro ä¸Šè·‘èµ·æ¥çš„æ—¶å€™éå¸¸é¡ºç•….ä½†æ˜¯éƒ¨ç½²åˆ°centoså°±ä¸å¯¹äº†, ä¸€ä¸ªåŠ²çš„ç»™æˆ‘æŠ¥é”™.ValueError: Unable to determine the name of the local timezone -- you must explicitly specify the name of the local timezone. Please refrain from using timezones like EST to prevent problems with daylight saving time. Instead, use a locale based timezone name (such as Europe/Helsinki).å…·ä½“ä»£ç åœ¨ä¸‹é¢:12345678910111213141516172018-10-09 06:18:48 å¼€å§‹æ‰§è¡Œä»»åŠ¡Traceback (most recent call last): File \"goodmorning.py\", line 113, in &lt;module&gt; goodmorning.run() File \"goodmorning.py\", line 106, in run scheduler.add_job(self.make, 'cron', day_of_week='0-6', hour=7, minute=30, second=00) File \"/root/goodmorning/venv/lib/python3.4/site-packages/apscheduler/schedulers/base.py\", line 416, in add_job 'trigger': self._create_trigger(trigger, trigger_args), File \"/root/goodmorning/venv/lib/python3.4/site-packages/apscheduler/schedulers/base.py\", line 918, in _create_trigger return self._create_plugin_instance('trigger', trigger, trigger_args) File \"/root/goodmorning/venv/lib/python3.4/site-packages/apscheduler/schedulers/base.py\", line 903, in _create_plugin_instance return plugin_cls(**constructor_kwargs) File \"/root/goodmorning/venv/lib/python3.4/site-packages/apscheduler/triggers/cron/__init__.py\", line 52, in __init__ self.timezone = astimezone(timezone) File \"/root/goodmorning/venv/lib/python3.4/site-packages/apscheduler/util.py\", line 87, in astimezone 'Unable to determine the name of the local timezone -- you must explicitly 'ValueError: Unable to determine the name of the local timezone -- you must explicitly specify the name of the local timezone. Please refrain from using timezones like EST to prevent problems with daylight saving time. Instead, use a locale based timezone name (such as Europe/Helsinki). è§£å†³åŠæ³•1timedatectl set-timezone Asia/Shanghai è¿™æ ·æ—¢å¯ä»¥è§£å†³æ‰¾ä¸åˆ°timezoneçš„é—®é¢˜.è¿˜å¯ä»¥æŠŠå¤±å»ä¿®æ”¹æˆä¸Šæµ·(åšä¸»çš„æœåŠ¡å™¨åœ¨ç¾å›½.ä¾¿å®œå•Š.è€Œä¸”å¥½åƒ.meåŸŸååœ¨å›½å†…æ— æ³•å¤‡æ¡ˆäº†.)","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"apscheduler","slug":"apscheduler","permalink":"https://www.leejia.me/tags/apscheduler/"},{"name":"python","slug":"python","permalink":"https://www.leejia.me/tags/python/"},{"name":"timezone","slug":"timezone","permalink":"https://www.leejia.me/tags/timezone/"}]},{"title":"macå®‰è£…pyv8æ¨¡å—","slug":"macå®‰è£…pyv8æ¨¡å—","date":"2018-10-08T05:59:18.000Z","updated":"2018-10-08T06:30:50.874Z","comments":true,"path":"code/install_pyv8.html","link":"","permalink":"https://www.leejia.me/code/install_pyv8.html","excerpt":"","text":"å®‰è£…12345# ç¬¬ä¸€ç§pip install -e git://github.com/brokenseal/PyV8-OS-X#egg=pyv8 # ç¬¬äºŒç§https://github.com/emmetio/pyv8-binaries ä¸‹è½½å¯¹åº”çš„åŒ…è§£å‹æ”¾åˆ°pythonæ¨¡å—æ–‡ä»¶å¤¹ä¸­ ä¿æŒç½‘ç»œç•…é€š, ç„¶åç­‰å¾…â€¦ å°±æˆåŠŸäº†.12345678910111213Last login: Mon Oct 8 13:31:59 on ttys000Page: www.leejia.meNickName: Leejiaâœ ~ pip install -e git://github.com/brokenseal/PyV8-OS-X#egg=pyv8 Looking in indexes: http://mirrors.aliyun.com/pypi/simpleObtaining pyv8 from git+git://github.com/brokenseal/PyV8-OS-X#egg=pyv8 Cloning git://github.com/brokenseal/PyV8-OS-X to ./src/pyv8Installing collected packages: pyv8 Running setup.py develop for pyv8Successfully installed pyv8You are using pip version 18.0, however version 18.1 is available.You should consider upgrading via the 'pip install --upgrade pip' command.âœ ~ ipython3 æµ‹è¯•12345678âœ ~ ipython3Python 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 05:52:31) Type 'copyright', 'credits' or 'license' for more informationIPython 6.4.0 -- An enhanced Interactive Python. Type '?' for help.In [1]: import pyv8In [2]: import pyv8 æ²¡æœ‰æŠ¥é”™å°±è¡¨ç¤ºæˆåŠŸäº†. ä½¿ç”¨1234567891011121314151617# -*- coding: utf-8 -*-# @Author : Leejia# @Blog ï¼šwww.leejia.mefrom pyv8 import _PyV8 as PyV8ctxt = PyV8.JSContext()ctxt.enter()func = ctxt.eval(\"\"\" (function()&#123; function hello()&#123; return \"Hello world.\"; &#125; return hello(); &#125;)\"\"\")print(func())","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/tags/python/"},{"name":"pyv8","slug":"pyv8","permalink":"https://www.leejia.me/tags/pyv8/"},{"name":"mac","slug":"mac","permalink":"https://www.leejia.me/tags/mac/"}]},{"title":"åšå®¢å¯ç”¨æ–°ä¸»é¢˜","slug":"åšå®¢å¯ç”¨æ–°ä¸»é¢˜","date":"2018-09-22T02:08:03.000Z","updated":"2018-09-23T01:01:17.827Z","comments":true,"path":"code/blog_use_new_theme.html","link":"","permalink":"https://www.leejia.me/code/blog_use_new_theme.html","excerpt":"","text":"åšå®¢ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯Maupassant.éå¸¸æ„Ÿè°¢å± åŸ,æä¾›è¿™æ¬¾æ¼‚äº®ç®€æ´çš„ä¸»é¢˜. ä»Šå¤©å¯ç”¨äº†cofess å¼€å‘çš„ä¸»é¢˜pure .è¿™æ¬¾ä¸»é¢˜åœ¨Hexoå®˜æ–¹çš„ä¸»é¢˜åº“ä¸­æœ‰.ä¸€æ¬¾éå¸¸æ¼‚äº®çš„ä¸»é¢˜.","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://www.leejia.me/tags/hexo/"},{"name":"theme","slug":"theme","permalink":"https://www.leejia.me/tags/theme/"}]},{"title":"Hexoç”Ÿæˆçš„RSSæ–‡ä»¶atom.xmlæŠ¥é”™","slug":"Hexoç”Ÿæˆçš„RSSæ–‡ä»¶atmo-xmlæŠ¥é”™","date":"2018-09-21T10:38:33.000Z","updated":"2018-09-24T13:50:16.161Z","comments":true,"path":"code/id_rss_vscode_bug.html","link":"","permalink":"https://www.leejia.me/code/id_rss_vscode_bug.html","excerpt":"","text":"Hexo ç”Ÿæˆçš„ RSS çš„ atom.xml æŠ¥é”™ PCDATA invalid Char valueï¼Œäº§ç”Ÿè¿™æ ·çš„åŸå› å°±æ˜¯ Markdown æ–‡ä»¶ä¸­æœ‰ç‰¹æ®Šå­—ç¬¦ã€‚ æ’ä»¶æˆ‘ä½¿ç”¨ hexo-generator-feed æ¥ç”Ÿæˆ Feed çš„atom.xmlæ–‡ä»¶ é”™è¯¯12345åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ atom.xmlï¼Œå‘ç°æŠ¥é”™ï¼Œä¿¡æ¯å¦‚ä¸‹ã€‚This page contains the following errors:error on line 264 at column 168: PCDATA invalid Char value 8Below is a rendering of the page up to the first error. å› ä¸ºæ˜¯ä½¿ç”¨çš„æ˜¯vscodeç›´æ¥ç¼–è¾‘çš„,è¿™ä¸ªç¼–è¾‘å™¨æœ‰ä¸ªé—®é¢˜ä¼šäº§ç”Ÿ^Hè¿™ä¸ªå­—ç¬¦,è¿™ä¸ªå¯¼è‡´xmlæ— æ³•æ¸²æŸ“.è€Œä¸”åœ¨vscode,typoraä¸­è¿™ä¸ªå­—ç¬¦éƒ½ä¸ä¼šæ˜¾ç¤º, ç”¨vimç¼–è¾‘å™¨æ‰“å¼€å°±å¯ä»¥çœ‹åˆ°^H è§£å†³åŠæ³•ç”¨vimç¼–è¾‘å™¨æ‰“å¼€å°±å¯ä»¥çœ‹åˆ°^Hç„¶åæŒ¨ä¸ªåˆ æ‰. ç„¶ååœ¨ä½¿ç”¨å‘½ä»¤é‡æ–°ç”Ÿæˆä¸€ä¸‹atom.xmlæ–‡ä»¶ 1hexo g","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"rss","slug":"rss","permalink":"https://www.leejia.me/tags/rss/"},{"name":"vscode","slug":"vscode","permalink":"https://www.leejia.me/tags/vscode/"},{"name":"hexo","slug":"hexo","permalink":"https://www.leejia.me/tags/hexo/"}]},{"title":"pythonä¸­printåº•å±‚è°ƒç”¨äº†ä»€ä¹ˆæ–¹æ³•","slug":"pythonä¸­printå’Œinputåº•å±‚è°ƒç”¨äº†ä»€ä¹ˆæ–¹æ³•","date":"2018-09-20T07:29:15.000Z","updated":"2018-09-20T07:53:44.060Z","comments":true,"path":"python/python_source_code.html","link":"","permalink":"https://www.leejia.me/python/python_source_code.html","excerpt":"","text":"printå‡½æ•°print()åº•å±‚è°ƒç”¨çš„æ˜¯sys.stdout.write()æ¥å®ç°æ‰“å°å­—ç¬¦ä¸²æ§åˆ¶å°,ä½†æ˜¯print()åˆä¸åŒäºsys.stdout.write() 1234567891011121314151617# -*- coding: utf-8 -*-# @Author : Leejia# @Blog ï¼šwww.leejia.meimport sysprint(__file__)print('hello, Leejia')print('-' * 10)sys.stdout.write('hello, Leejia')print('leeeeeee')# è¾“å‡ºç»“æœ:/Users/jetmo/Documents/Code/shops/print_input_test.pyhello, Leejia----------hello, LeejialeeeeeeeProcess finished with exit code 0 å¯ä»¥çœ‹çœ‹å‡ºæ¥, sys.stdout.write æ˜¯æ²¡æœ‰è‡ªåŠ¨æ¢è¡Œçš„ 12345sys.stdout.write('hello, Leejia')print('leeeeeee')# ç»“æœ: hello, Leejialeeeeeee sys.stdout.write åªèƒ½æ¥å—ä¸€ä¸ªå‚æ•° 1234567sys.stdout.write('hello, Leejia', 'test')# ç»“æœ:Traceback (most recent call last): File \"/Users/jetmo/Documents/Code/shops/print_input_test.py\", line 12, in &lt;module&gt; sys.stdout.write('hello, Leejia', 'test')TypeError: write() takes exactly one argument (2 given) sys.stdout.write åªèƒ½æ¥å—å­—ç¬¦ä¸² 1234567sys.stdout.write(123)# ç»“æœTraceback (most recent call last): File \"/Users/jetmo/Documents/Code/shops/print_input_test.py\", line 14, in &lt;module&gt; sys.stdout.write(123)TypeError: write() argument must be str, not int","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/tags/python/"},{"name":"input","slug":"input","permalink":"https://www.leejia.me/tags/input/"},{"name":"åº•å±‚æºç ","slug":"åº•å±‚æºç ","permalink":"https://www.leejia.me/tags/åº•å±‚æºç /"}]},{"title":"å…³äºubuntuæ¸…ç†åƒåœ¾","slug":"å…³äºubuntuæ¸…ç†åƒåœ¾","date":"2018-09-18T02:18:14.000Z","updated":"2018-09-18T05:35:35.749Z","comments":true,"path":"code/clean_your_ubuntu.html","link":"","permalink":"https://www.leejia.me/code/clean_your_ubuntu.html","excerpt":"","text":"MBPä¸Šå®‰è£…äº†ubuntu16.04è™šæ‹Ÿæœº,éšç€ä½¿ç”¨æ—¶é—´è¶Šé•¿, å¯¼è‡´ç¼“å­˜,æ— æ•ˆçš„é…ç½®æ–‡ä»¶ç­‰å ç”¨ç©ºé—´ç‰¹åˆ«çš„å¤§.ç›®å‰æœ‰22Gå¤š.äºæ˜¯åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªæ¸…ç†æ–¹æ³•. Ubuntu Linuxä¸Windowsç³»ç»Ÿä¸åŒï¼ŒUbuntu Linuxä¸ä¼šäº§ç”Ÿæ— ç”¨åƒåœ¾æ–‡ä»¶ï¼Œä½†æ˜¯åœ¨å‡çº§ç¼“å­˜ä¸­ï¼ŒUbuntu Linuxä¸ä¼šè‡ªåŠ¨åˆ é™¤è¿™äº›æ–‡ä»¶ï¼Œä»Šå¤©å°±æ¥è¯´è¯´è¿™äº›åƒåœ¾æ–‡ä»¶æ¸…ç†æ–¹æ³•ã€‚ éå¸¸æœ‰ç”¨çš„æ¸…ç†å‘½ä»¤ï¼š1234sudo apt-get autoclean # --æ¸…ç†æ—§ç‰ˆæœ¬çš„è½¯ä»¶ç¼“å­˜ OK(å·²ç»å¸è½½æ‰çš„è½¯ä»¶åŒ…)sudo apt-get clean # --æ¸…ç†æ‰€æœ‰è½¯ä»¶ç¼“å­˜ OK(ç”µè„‘ä¸Šå­˜å‚¨çš„å®‰è£…åŒ…)sudo apt-get autoremove # --åˆ é™¤ç³»ç»Ÿä¸å†ä½¿ç”¨çš„å­¤ç«‹è½¯ä»¶ OK(å·²ç»å¸è½½äº†ï¼Œä½†æ˜¯ä¸€äº›åªæœ‰å®ƒä¾èµ–è€Œåˆ«çš„è½¯ä»¶åŒ…éƒ½ä¸éœ€è¦çš„è½¯ä»¶åŒ…) è¿™ä¸‰ä¸ªå‘½ä»¤ä¸»è¦æ¸…ç†å‡çº§ç¼“å­˜ä»¥åŠæ— ç”¨åŒ…çš„ã€‚ æ¸…ç†Linuxä¸‹å­¤ç«‹çš„åŒ…ï¼š1234å›¾å½¢ç•Œé¢ä¸‹æˆ‘ä»¬å¯ä»¥ç”¨ï¼šgtkorphansudo apt-get install gtkorphan -yç»ˆç«¯å‘½ä»¤ä¸‹æˆ‘ä»¬å¯ä»¥ç”¨ï¼šdeborphansudo apt-get install deborphan -y åˆ é™¤å¤šä½™çš„å†…æ ¸(åœ¨1ä¸­å·²æ¸…ç†)(åœ¨ç»ˆç«¯ä¸­è¾“å…¥uname -aï¼Œç„¶åçœ‹å…¶æ˜¾ç¤ºçš„ç°ç”¨å†…æ ¸ç‰ˆæœ¬æ˜¯å¤šå°‘)(ä¸åˆ é™¤æ‰è€çš„å†…æ ¸ï¼Œä»¥ä¾¿äºä½¿ç”¨æ–°å‡çº§çš„å†…æ ¸æ— æ³•å¯åŠ¨æ—¶ï¼Œä½ èƒ½é©¬ä¸Šä½¿ç”¨è€å†…æ ¸è¿›è¡Œå¯åŠ¨ï¼Œä¸è‡³äºå¯¼è‡´ä½ æ— æ³•è¿›å…¥ç³»ç»Ÿçš„æ‚²å‰§ã€‚ä¸è¿‡åœ¨ä½ å‡çº§å®Œæ¯•ï¼Œé‡å¯åèƒ½è¿›å…¥ç³»ç»Ÿåï¼Œè¯´æ˜æ–°å†…æ ¸å·²ç»å¾ˆå¥½çš„å…¼å®¹äº†ä½ çš„ç”µè„‘ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„åˆ é™¤æ‰è€å†…æ ¸) æ¸…ç†æ— æ•ˆè½¯ä»¶libreofficeæ˜¯ä¸€å¥—ç±»ä¼¼äºå¾®è½¯officeçš„å…è´¹åŠå…¬å¥—ä»¶ï¼Œä¸è¿‡æ— è®ºç•Œé¢äº¤äº’è¿˜æ˜¯æ‰§è¡Œæ€§èƒ½éƒ½è¿˜æœ‰å¾ˆå¤§çš„æå‡ç©ºé—´ï¼Œå¸è½½libreofficeå¯ä»¥é‡Šæ”¾300Må·¦å³çš„ç£ç›˜ç©ºé—´123456789101112131415161718192021222324252627282930313233343536373839404142sudo apt-get -y purge libreoffice* #åŠå…¬å¥—ä»¶ sudo apt-get -y purge thunderbird* # é‚®ç®±è½¯ä»¶sudo apt-get -y purge gnome-power-manager #ç”µæºç»Ÿè®¡ sudo apt-get -y purge deja-dup #å¤‡ä»½ sudo apt-get -y purge bluez* #å¸è½½è“ç‰™ sudo apt-get -y purge simple-scan #æ‰«æ sudo apt-get -y purge hplip* #æ‰“å° sudo apt-get -y purge printer-driver* #æ‰“å°é©±åŠ¨ sudo apt-get -y purge rhythmbox* #éŸ³ä¹æ’­æ”¾ sudo apt-get -y purge gnome-orca #å±å¹•é˜…è¯» sudo apt-get -y purge onboard #å±å¹•é”®ç›˜ sudo apt-get -y purge aisleriot #çº¸ç‰Œç‹ sudo apt-get -y purge gnome-sudoku #æ•°ç‹¬ sudo apt-get purge stardict* # æ˜Ÿé™…è¯‘ç‹sudo apt-get purge totem # å¸è½½è§†é¢‘æ’­æ”¾å™¨sudo apt-get purge Shotwell* # ä¸€ä¸ªå›¾ç‰‡ç®¡ç†å·¥å…·sudo apt-get purge imagemagic*# ä¸‹é¢çš„è°¨æ…æ“ä½œ!!# aptitude remove totem # å¸è½½è§†é¢‘æ’­æ”¾å™¨# æ¸…å•(sudo apt-get purge ä¸‹é¢çš„åç§°)libreoffice-common libreofficeï¼ˆå¯ä»¥æ¢ WPS ï¼Œapt purge libreoffice-commonï¼‰unity-webapps-common Amazon é“¾æ¥thunderbird é›·é¸Ÿé‚®ä»¶å®¢æˆ·ç«¯totem è‡ªå¸¦çš„æ’­æ”¾å™¨rhythmbox è‡ªå¸¦çš„éŸ³ä¹æ’­æ”¾å™¨empathy è‡ªå¸¦çš„å³æ—¶èŠå¤©åº”ç”¨brasero è‡ªå¸¦çš„å…‰ç›˜åˆ»å½•å™¨simple-scan æ‰«æä»ªgnome-mahjongg å¯¹å¯¹ç¢°æ¸¸æˆaisleriot çº¸ç‰Œæ¸¸æˆgnome-mines æ‰«é›·æ¸¸æˆcheese webcam åº”ç”¨gnome-sudoku æ•°ç‹¬æ¸¸æˆtransmission-common BT å®¢æˆ·ç«¯gnome-orca å±å¹•é˜…è¯»webbrowser-app Ubuntuè‡ªå¸¦çš„æµè§ˆå™¨ï¼ˆæœ‰äº† chrome å’Œ Firefox æ ¹æœ¬ç”¨ä¸åˆ°è¿™ä¸ªï¼‰landscape-client-ui-install landscape è¿œç¨‹æ§åˆ¶è½¯ä»¶deja-dup å¤‡ä»½onboard å±å¹•é”®ç›˜imagemagic* æ¸…ç†æ— æ•ˆé…ç½®æ–‡ä»¶1dpkg -l |grep ^rc|awk '&#123;print $2&#125;' |sudo xargs dpkg -P é™„å½•åŒ…ç®¡ç†çš„ä¸´æ—¶æ–‡ä»¶ç›®å½•:åŒ…åœ¨ /var/cache/apt/archivesæ²¡æœ‰ä¸‹è½½å®Œçš„åœ¨ /var/cache/apt/archives/partial åœ¨å¸è½½è½¯ä»¶çš„æ—¶å€™ï¼Œå°½å¯èƒ½ä½¿ç”¨sudo apt-get purge xxxxxï¼ˆxxxxä¸ºè¦å¸è½½çš„è½¯ä»¶åï¼‰ï¼Œè¿™æ ·å¯ä»¥å°†è½¯ä»¶ä»¥åŠå®ƒçš„é…ç½®æ–‡ä»¶å‡å¸è½½å¹²å‡€ã€‚ æ•‘å‘½ç¨»è‰æ‰§è¡Œè¿™ä¸€è¡Œçš„æ—¶å€™å¯èƒ½ä¼šå…³è”å…¶ä»–è½¯ä»¶è¿™ä¸ªæ—¶å€™å¦‚æœé‡å¯ubuntuä¼šå‡ºç°:#è°¨æ…ä½¿ç”¨: aptitude remove totem # å¸è½½è§†é¢‘æ’­æ”¾å™¨ç™»å½•åæ— dash,æ— å¯åŠ¨æ launch,æ— menu baråªæœ‰æ¡Œé¢èƒŒæ™¯çš„å¿«é€Ÿè§£å†³åŠæ³• è§£å†³æ–¹æ¡ˆï¼š é“¾æ¥ubuntu (0)ä½¿ç”¨shellè¿œç¨‹é“¾æ¥ubuntu(å‰æçŸ¥é“ipåœ°å€) (1)æˆ–è€…å°è¯•ç”¨ ctrl + alt + t æ‰“å¼€å‘½ä»¤è¡Œ å®‰è£…compizconfig-settings-manager 1sudo apt-get install compizconfig-settings-manager å®‰è£… unity 1sudo apt-get -f install &amp;&amp; sudo apt-get --reinstall install unity é‡å¯ 1sudo shutdown now -r","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"mac","slug":"mac","permalink":"https://www.leejia.me/tags/mac/"},{"name":"ubuntu","slug":"ubuntu","permalink":"https://www.leejia.me/tags/ubuntu/"},{"name":"clean","slug":"clean","permalink":"https://www.leejia.me/tags/clean/"},{"name":"åƒåœ¾","slug":"åƒåœ¾","permalink":"https://www.leejia.me/tags/åƒåœ¾/"}]},{"title":"å®šåˆ¶macç»ˆç«¯æ¬¢è¿é¡µ","slug":"å®šåˆ¶macç»ˆç«¯æ¬¢è¿é¡µ","date":"2018-09-17T05:10:20.000Z","updated":"2018-09-17T05:16:57.181Z","comments":true,"path":"code/diy_your_terminal.html","link":"","permalink":"https://www.leejia.me/code/diy_your_terminal.html","excerpt":"","text":"macä¸Šæ— è®ºæ˜¯npmã€gitè¿˜æ˜¯Jekylléƒ½ä¼šç”¨åˆ°ç»ˆç«¯ï¼Œè™½ç„¶å‘å¤šï¼Œä½†æŠ˜è…¾ä¸æ­¢ï¼é‚è‹¦ä¸­ä½œä¹ã€‚ é…ç½®æ­¥éª¤ å¿«æ·é”®control+spaceå”¤å‡ºSpotlightï¼Œæœç´¢terminalæ‰“å¼€ç»ˆç«¯ 12cd /etc #è¿›å…¥ç›®å½•sudo pico motd #è¾“å…¥å¯†ç åè¿›å…¥ä¿®æ”¹é¡µé¢ ç²˜è´´å†…å®¹å¦‚ä¸‹ 123456789101112131415161718192021 _ooOoo_ o8888888o 88\" . \"88 (| -_- |) O\\ = /O ____/`---'\\____ .' \\\\| |// `. / \\\\||| : |||// \\ / _||||| -:- |||||- \\ | | \\\\\\ - /// | | | \\_| ''\\---/'' | | \\ .-\\__ `-` ___/-. / ___`. .' /--.--\\ `. . __ .\"\" '&lt; `.___\\_&lt;|&gt;_/___.' &gt;'\"\". | | : `- \\`.;`\\ _ /`;.`/ - ` : | | \\ \\ `-. \\_ __\\ /__ _/ .-` / /======`-.____`-.___\\_____/___.-`____.-'====== `=---='^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ä½›ç¥–ä¿ä½‘ ğŸ™ æ°¸æ— BUG ä¿å­˜: 12control + X ç„¶åè¾“å…¥y ç„¶åå¯èƒ½éœ€è¦ä½ è¾“å…¥ä¿å­˜çš„æ–‡ä»¶åå¡«å†™motd é‡å¯ç»ˆç«¯çœ‹æ•ˆæœå§.è‡ªå¸¦çš„tetminalå’Œiterméƒ½å¯ä»¥çœ‹åˆ°æ•ˆæœ.","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"mac","slug":"mac","permalink":"https://www.leejia.me/tags/mac/"},{"name":"terminal","slug":"terminal","permalink":"https://www.leejia.me/tags/terminal/"},{"name":"ç»ˆç«¯","slug":"ç»ˆç«¯","permalink":"https://www.leejia.me/tags/ç»ˆç«¯/"}]},{"title":"å…³äºå¼€å‘å§¿åŠ¿","slug":"å…³äºå¼€å‘è¿‡ç¨‹çš„æ„Ÿå—","date":"2018-09-15T13:02:53.000Z","updated":"2018-10-15T05:33:55.175Z","comments":true,"path":"code/develop_and_think.html","link":"","permalink":"https://www.leejia.me/code/develop_and_think.html","excerpt":"","text":"èƒ¡è¨€ä¹±è¯­å¼€å‘é‡åˆ°è§£ä¸å¼€çš„é—®é¢˜,å¤šçœ‹æºç .çœ‹æºç è§£é¢˜.","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"æ„Ÿå—","slug":"æ„Ÿå—","permalink":"https://www.leejia.me/tags/æ„Ÿå—/"},{"name":"æºç ","slug":"æºç ","permalink":"https://www.leejia.me/tags/æºç /"}]},{"title":"macå‡çº§ç³»ç»Ÿåå‡ºç°xcrun errorè§£å†³åŠæ³•","slug":"macå‡çº§ç³»ç»Ÿåå‡ºç°xcrun errorè§£å†³åŠæ³•","date":"2018-09-15T06:12:50.000Z","updated":"2018-09-17T02:31:52.004Z","comments":true,"path":"code/xcrun_error.html","link":"","permalink":"https://www.leejia.me/code/xcrun_error.html","excerpt":"","text":"ç°è±¡1xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun è§£å†³åŠæ³•1xcode-select --install","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"xcrun","slug":"xcrun","permalink":"https://www.leejia.me/tags/xcrun/"},{"name":"code","slug":"code","permalink":"https://www.leejia.me/tags/code/"}]},{"title":"macç³»ç»Ÿä¸‹djangoæ—¥å¿—å¦‚æœ‰ä¸­æ–‡æŠ¥é”™çš„è§£å†³æ–¹æ³•","slug":"macç³»ç»Ÿä¸‹djangoæ—¥å¿—å¦‚æœ‰ä¸­æ–‡æŠ¥é”™çš„è§£å†³æ–¹æ³•","date":"2018-09-09T12:36:10.000Z","updated":"2018-09-21T10:34:42.346Z","comments":true,"path":"django/django_logging_error.html","link":"","permalink":"https://www.leejia.me/django/django_logging_error.html","excerpt":"","text":"å‡ºç°çš„bugdjangoä½¿ç”¨DRFæ¡†æ¶ã€‚é…ç½®æ—¥å¿—ï¼Œå¦‚æœæœ‰ä¸­æ–‡æ§åˆ¶å°ä¼šæŠ¥é”™ï¼Œä½†æ˜¯åœ¨å› ä¸ºä¸‹å°±ä¸ä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯ï¼Œç»è¿‡æ’æŸ¥å¯ä»¥ç¡®å®šçš„æ˜¯ä¸­æ–‡å¯¼è‡´çš„bugå¦‚ä¸‹ä¸ºå®Œæ•´æŠ¥é”™ä¿¡æ¯ï¼Œåé¢ä¹Ÿä¼šè´´å‡ºæ ¸å¿ƒé”™è¯¯ä¿¡æ¯. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374--- Logging error ---Traceback (most recent call last): File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/logging/__init__.py\", line 994, in emit stream.write(msg)UnicodeEncodeError: 'ascii' codec can't encode characters in position 38-39: ordinal not in range(128)Call stack: File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py\", line 884, in _bootstrap self._bootstrap_inner() File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py\", line 916, in _bootstrap_inner self.run() File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py\", line 864, in run self._target(*self._args, **self._kwargs) File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socketserver.py\", line 639, in process_request_thread self.finish_request(request, client_address) File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socketserver.py\", line 361, in finish_request self.RequestHandlerClass(request, client_address, self) File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socketserver.py\", line 696, in __init__ self.handle() File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/servers/basehttp.py\", line 155, in handle handler.run(self.server.get_app()) File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/wsgiref/handlers.py\", line 137, in run self.result = application(self.environ, self.start_response) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/contrib/staticfiles/handlers.py\", line 63, in __call__ return self.application(environ, start_response) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/wsgi.py\", line 157, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/base.py\", line 124, in get_response response = self._middleware_chain(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/utils/deprecation.py\", line 140, in __call__ response = self.get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/core/handlers/base.py\", line 185, in _get_response response = wrapped_callback(request, *callback_args, **callback_kwargs) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/views/decorators/csrf.py\", line 58, in wrapped_view return view_func(*args, **kwargs) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/django/views/generic/base.py\", line 68, in view return self.dispatch(request, *args, **kwargs) File \"/Users/jetmo/.virtualenvs/shops_py3/lib/python3.6/site-packages/rest_framework/views.py\", line 480, in dispatch response = handler(request, *args, **kwargs) File \"/Users/jetmo/Documents/Code/shops/shops/shops/apps/verifications/views.py\", line 82, in get logger.info('æ‰‹æœº: %s å‘é€çŸ­ä¿¡ok' % mobile)Message: 'æ‰‹æœº: 15167128625 å‘é€çŸ­ä¿¡ok'Arguments: () æ ¸å¿ƒé”™è¯¯ä»£ç 12345UnicodeEncodeError: 'ascii' codec can't encode characters in position 38-39: ordinal not in range(128).....\"/Users/jetmo/Documents/Code/shops/shops/shops/apps/verifications/views.py\", line 82, in get æŒ‰é“ç†è®², ä»å‡ºç°bugå°±æ²¡æœ‰ä¼šæƒ³åˆ°macç¼–ç å­˜åœ¨é—®é¢˜.\b è§£å†³åŠæ³•åœ¨settings.pyä¸­çš„æ—¥å¿—é…ç½®æ–‡ä»¶ä¸­æ·»åŠ &#39;encoding&#39;: &#39;utf-8&#39;å°±å¯ä»¥å®Œç¾è§£å†³.å®Œç¾ä»£ç å¦‚ä¸‹:12345678910111213141516171819202122232425262728293031323334353637383940LOGGING = &#123; 'version': 1, 'disable_existing_loggers': False, 'formatters': &#123; 'verbose': &#123; 'format': '%(levelname)s %(asctime)s %(module)s %(lineno)d %(message)s' &#125;, 'simple': &#123; 'format': '%(levelname)s %(module)s %(lineno)d %(message)s' &#125;, &#125;, 'filters': &#123; 'require_debug_true': &#123; '()': 'django.utils.log.RequireDebugTrue', &#125;, &#125;, 'handlers': &#123; 'console': &#123; 'level': 'DEBUG', 'filters': ['require_debug_true'], 'class': 'logging.StreamHandler', 'formatter': 'simple' &#125;, 'file': &#123; 'level': 'INFO', 'class': 'logging.handlers.RotatingFileHandler', 'filename': os.path.join(os.path.dirname(BASE_DIR), \"logs/meiduo.log\"), # æ—¥å¿—æ–‡ä»¶çš„ä½ç½® 'maxBytes': 300 * 1024 * 1024, 'backupCount': 10, 'formatter': 'verbose', 'encoding': 'utf-8' # è¿™é‡Œæ·»åŠ å¯ä»¥é¿å…ä¸­æ–‡æŠ¥é”™ &#125;, &#125;, 'loggers': &#123; # å®šä¹‰äº†ä¸€ä¸ªåä¸ºdjangoçš„æ—¥å¿—å™¨ 'django': &#123; 'handlers': ['console', 'file'], 'propagate': True, &#125;, &#125;&#125;","categories":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/categories/django/"}],"tags":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/tags/django/"},{"name":"logging","slug":"logging","permalink":"https://www.leejia.me/tags/logging/"}]},{"title":"æ—¶é—´æˆ³è½¬æ¢çš„å‡ ç§æ–¹æ³•","slug":"æ—¶é—´æˆ³è½¬æ¢çš„å‡ ç§æ–¹æ³•","date":"2018-09-05T00:49:57.000Z","updated":"2018-09-05T01:01:53.989Z","comments":true,"path":"python/timestamp.html","link":"","permalink":"https://www.leejia.me/python/timestamp.html","excerpt":"","text":"æ ¼å¼åŒ–1234567891011# ç¬¬ä¸€ç§import datetimetimestamp = 1536108815 # å¦‚æœæ˜¯ä»ç½‘é¡µè§£æå‡ºæ¥çš„æ˜¯å­—ç¬¦ä¸²,éœ€è¦è½¬intdateArray = datetime.datetime.utcfromtimestamp(int(timestamp))styletime = dateArray.strftime(\"%Y-%m-%d %H:%M:%S\")prtint(styletime)# ç¬¬äºŒç§ts = 1515774430dt = time.strftime(\"%Y-%m-%d %H:%M:%S\", time.localtime(ts))print(dt) è·å–æ—¶é—´æˆ³123import timet = time.time()print(t) è½¬æ—¶é—´æˆ³12345dt = '2018-02-01 02:40:30'# å…ˆæŠŠæ—¥æœŸå­—ç¬¦ä¸²è½¬ä¸º æ—¥æœŸå¯¹è±¡,ç„¶åå†æŠŠæ—¥æœŸå¯¹è±¡è½¬ä¸ºæ—¶é—´æˆ³ts = int(time.mktime(time.strptime(dt, \"%Y-%m-%d %H:%M:%S\")))print (ts) è·å–æ—¶é—´,è·å–æ—¶é—´æˆ³,æ—¶é—´æˆ³è½¬åŒ–,pythonæä¾›å¾ˆå¤šæ¨¡å—,å¯ä»¥å¤šgoogle.","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"æ—¶é—´æˆ³","slug":"æ—¶é—´æˆ³","permalink":"https://www.leejia.me/tags/æ—¶é—´æˆ³/"},{"name":"timetamp","slug":"timetamp","permalink":"https://www.leejia.me/tags/timetamp/"},{"name":"datetime","slug":"datetime","permalink":"https://www.leejia.me/tags/datetime/"},{"name":"time","slug":"time","permalink":"https://www.leejia.me/tags/time/"}]},{"title":"pythonä¸­urlç¼–è§£ç é—®é¢˜","slug":"pythonä¸­urlç¼–è§£ç é—®é¢˜","date":"2018-09-04T01:22:05.000Z","updated":"2018-09-04T01:28:32.993Z","comments":true,"path":"python/python_url_decode_encode.html","link":"","permalink":"https://www.leejia.me/python/python_url_decode_encode.html","excerpt":"","text":"æ™®é€šå­—ç¬¦ä¸²çš„å¤„ç†1234567from urllib import parsestr1 = 'hahaå“ˆå“ˆ'str2 = parse.quote(str1) #quote()å°†å­—ç¬¦ä¸²è¿›è¡Œç¼–ç print(str2) #str2=haha%E5%93%88%E5%93%88str3 = parse.unquote(str2) #è§£ç å­—ç¬¦ä¸²print(str3) #str3=hahaå“ˆå“ˆ urlçš„å¤„ç†123456789101112131415from urllib import parseimport requestsurl = 'http://www.baidu.com/s?'dict1 =&#123;'wd': 'ç™¾åº¦ç¿»è¯‘'&#125;url_data = parse.urlencode(dict1) #unlencode()å°†å­—å…¸&#123;k1:v1,k2:v2&#125;è½¬åŒ–ä¸ºk1=v1&amp;k2=v2print(url_data) #url_dataï¼šwd=%E7%99%BE%E5%BA%A6%E7%BF%BB%E8%AF%91data = requests.get((url+url_data)).text #è¯»å–urlå“åº”ç»“æœdata = data.decode('utf-8') #å°†å“åº”ç»“æœç”¨utf8ç¼–ç print(data)url_org = parse.unquote(url_data) #è§£ç urlprint(url_org) #url_orgï¼šwd=ç™¾åº¦ç¿»è¯‘","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"unquote","slug":"unquote","permalink":"https://www.leejia.me/tags/unquote/"},{"name":"quote","slug":"quote","permalink":"https://www.leejia.me/tags/quote/"}]},{"title":"jsonå’Œxmläº’è½¬","slug":"jsonå’Œxmläº’è½¬","date":"2018-09-03T08:15:06.000Z","updated":"2018-09-17T02:28:11.880Z","comments":true,"path":"code/json2xml_xml2json.html","link":"","permalink":"https://www.leejia.me/code/json2xml_xml2json.html","excerpt":"","text":"jsonå’Œxmläº’è½¬.å€ŸåŠ©çš„æ¨¡å—xmltodict json2xml123456789101112131415161718192021import xmltodict#jsonè½¬xmlå‡½æ•°def jsontoxml(jsonstr): #xmltodictåº“çš„unparse()jsonè½¬xml xmlstr = xmltodict.unparse(jsonstr) print(xmlstr)if __name__ == \"__main__\": json_str = &#123; 'student': &#123; 'course': &#123; 'name': 'math', 'score': '90' &#125;, 'info': &#123; 'sex': 'male', 'name': 'name' &#125;, 'stid': '10213' &#125; &#125; jsontoxml(json_str) xml2json123456789101112131415161718192021222324import jsonimport xmltodict#å®šä¹‰xmlè½¬jsonçš„å‡½æ•°def xmltojson(xmlstr): #parseæ˜¯çš„xmlè§£æå™¨ xmlparse = xmltodict.parse(xmlstr) #jsonåº“dumps()æ˜¯å°†dictè½¬åŒ–æˆjsonæ ¼å¼ï¼Œloads()æ˜¯å°†jsonè½¬åŒ–æˆdictæ ¼å¼ã€‚ #dumps()æ–¹æ³•çš„ident=1ï¼Œæ ¼å¼åŒ–json jsonstr = json.dumps(xmlparse,indent=1) print(jsonstr)if __name__ == \"__main__\": xml =\"\"\"&lt;student&gt; &lt;stid&gt;10213&lt;/stid&gt; &lt;info&gt; &lt;name&gt;name&lt;/name&gt; &lt;sex&gt;male&lt;/sex&gt; &lt;/info&gt; &lt;course&gt; &lt;name&gt;math&lt;/name&gt; &lt;score&gt;90&lt;/score&gt; &lt;/course&gt;&lt;/student&gt;\"\"\" xmltojson(xml) #è°ƒç”¨è½¬æ¢å‡½æ•°","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"json","slug":"json","permalink":"https://www.leejia.me/tags/json/"},{"name":"xml","slug":"xml","permalink":"https://www.leejia.me/tags/xml/"}]},{"title":"åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åº•å±‚å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åº•å±‚å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ","date":"2018-09-03T07:14:10.000Z","updated":"2018-09-03T07:22:06.116Z","comments":true,"path":"django/xuliehua_fanxuliehua.html","link":"","permalink":"https://www.leejia.me/django/xuliehua_fanxuliehua.html","excerpt":"","text":"åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä½œä¸ºJavaé‡Œä¸€ä¸ªè¾ƒä¸ºåŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œå¤§å®¶å¿ƒé‡Œä¹Ÿæœ‰é‚£ä¹ˆå‡ å¥è¦è¯´çš„ï¼Œä½†æˆ‘ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´æŒæ¡çš„ä¹Ÿå°±æ˜¯é‚£ä¹ˆå‡ å¥è€Œå·²ï¼Œå¦‚æœå†æ·±ç©¶é—®ä¸€ä¸‹Javaå¦‚ä½•å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ï¼Œå°±å¯èƒ½ä¸çŸ¥æ‰€æªäº†ï¼é¥è®°å½“å¹´ä¹Ÿè¢«é—®äº†è¿™ä¸€ä¸ªé—®é¢˜ï¼Œè‡ªä¿¡æ»¡æ»¡çš„è¯´äº†ä¸€å¤§å †ï¼Œä»€ä¹ˆæ˜¯åºåˆ—åŒ–ã€ä»€ä¹ˆæ˜¯ååºåˆ—åŒ–ã€ä»€ä¹ˆåœºæ™¯çš„æ—¶å€™æ‰ä¼šç”¨åˆ°ç­‰ï¼Œç„¶åé¢è¯•å®˜è¯´ï¼šé‚£ä½ èƒ½è¯´ä¸€ä¸‹åºåˆ—åŒ–å’Œååºåˆ—åŒ–åº•å±‚æ˜¯å¦‚ä½•å®ç°çš„å—ï¼Ÿä¸€è„¸æ‡µé€¼ï¼Œç„¶åå›å®¶ç­‰é€šçŸ¥ï¼ åŸºæœ¬æ¦‚å¿µ1.ä»€ä¹ˆæ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼ˆ1) Javaåºåˆ—åŒ–æ˜¯æŒ‡æŠŠJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ï¼Œè€ŒJavaååºåˆ—åŒ–æ˜¯æŒ‡æŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹ï¼›ï¼ˆ2ï¼‰åºåˆ—åŒ–ï¼šå¯¹è±¡åºåˆ—åŒ–çš„æœ€ä¸»è¦çš„ç”¨å¤„å°±æ˜¯åœ¨ä¼ é€’å’Œä¿å­˜å¯¹è±¡çš„æ—¶å€™ï¼Œä¿è¯å¯¹è±¡çš„å®Œæ•´æ€§å’Œå¯ä¼ é€’æ€§ã€‚åºåˆ—åŒ–æ˜¯æŠŠå¯¹è±¡è½¬æ¢æˆæœ‰åºå­—èŠ‚æµï¼Œä»¥ä¾¿åœ¨ç½‘ç»œä¸Šä¼ è¾“æˆ–è€…ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶ä¸­ã€‚åºåˆ—åŒ–åçš„å­—èŠ‚æµä¿å­˜äº†Javaå¯¹è±¡çš„çŠ¶æ€ä»¥åŠç›¸å…³çš„æè¿°ä¿¡æ¯ã€‚åºåˆ—åŒ–æœºåˆ¶çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯å¯¹è±¡çŠ¶æ€çš„ä¿å­˜ä¸é‡å»ºã€‚ ï¼ˆ3ï¼‰ååºåˆ—åŒ–ï¼šå®¢æˆ·ç«¯ä»æ–‡ä»¶ä¸­æˆ–ç½‘ç»œä¸Šè·å¾—åºåˆ—åŒ–åçš„å¯¹è±¡å­—èŠ‚æµåï¼Œæ ¹æ®å­—èŠ‚æµä¸­æ‰€ä¿å­˜çš„å¯¹è±¡çŠ¶æ€åŠæè¿°ä¿¡æ¯ï¼Œé€šè¿‡ååºåˆ—åŒ–é‡å»ºå¯¹è±¡ã€‚ ï¼ˆ4ï¼‰æœ¬è´¨ä¸Šè®²ï¼Œåºåˆ—åŒ–å°±æ˜¯æŠŠå®ä½“å¯¹è±¡çŠ¶æ€æŒ‰ç…§ä¸€å®šçš„æ ¼å¼å†™å…¥åˆ°æœ‰åºå­—èŠ‚æµï¼Œååºåˆ—åŒ–å°±æ˜¯ä»æœ‰åºå­—èŠ‚æµé‡å»ºå¯¹è±¡ï¼Œæ¢å¤å¯¹è±¡çŠ¶æ€ã€‚ 2.ä¸ºä»€ä¹ˆéœ€è¦åºåˆ—åŒ–å’Œååºåˆ—åŒ–æˆ‘ä»¬çŸ¥é“ï¼Œå½“ä¸¤ä¸ªè¿›ç¨‹è¿›è¡Œè¿œç¨‹é€šä¿¡æ—¶ï¼Œå¯ä»¥ç›¸äº’å‘é€å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ï¼Œ è€Œè¿™äº›æ•°æ®éƒ½ä¼šä»¥äºŒè¿›åˆ¶åºåˆ—çš„å½¢å¼åœ¨ç½‘ç»œä¸Šä¼ é€ã€‚ é‚£ä¹ˆå½“ä¸¤ä¸ªJavaè¿›ç¨‹è¿›è¡Œé€šä¿¡æ—¶ï¼Œèƒ½å¦å®ç°è¿›ç¨‹é—´çš„å¯¹è±¡ä¼ é€å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼å¦‚ä½•åšåˆ°å‘¢ï¼Ÿè¿™å°±éœ€è¦Javaåºåˆ—åŒ–ä¸ååºåˆ—åŒ–äº†ï¼ æ¢å¥è¯è¯´ï¼Œä¸€æ–¹é¢ï¼Œå‘é€æ–¹éœ€è¦æŠŠè¿™ä¸ªJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼Œç„¶ååœ¨ç½‘ç»œä¸Šä¼ é€ï¼›å¦ä¸€æ–¹é¢ï¼Œæ¥æ”¶æ–¹éœ€è¦ä»å­—èŠ‚åºåˆ—ä¸­æ¢å¤å‡ºJavaå¯¹è±¡ã€‚ å½“æˆ‘ä»¬æ˜æ™°äº†ä¸ºä»€ä¹ˆéœ€è¦Javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–åï¼Œæˆ‘ä»¬å¾ˆè‡ªç„¶åœ°ä¼šæƒ³Javaåºåˆ—åŒ–çš„å¥½å¤„ã€‚å…¶å¥½å¤„ä¸€æ˜¯å®ç°äº†æ•°æ®çš„æŒä¹…åŒ–ï¼Œé€šè¿‡åºåˆ—åŒ–å¯ä»¥æŠŠæ•°æ®æ°¸ä¹…åœ°ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼ˆé€šå¸¸å­˜æ”¾åœ¨æ–‡ä»¶é‡Œï¼‰ï¼ŒäºŒæ˜¯ï¼Œåˆ©ç”¨åºåˆ—åŒ–å®ç°è¿œç¨‹é€šä¿¡ï¼Œå³åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„å­—èŠ‚åºåˆ—ã€‚ æ€»çš„æ¥è¯´å¯ä»¥å½’ç»“ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š ï¼ˆ1ï¼‰æ°¸ä¹…æ€§ä¿å­˜å¯¹è±¡ï¼Œä¿å­˜å¯¹è±¡çš„å­—èŠ‚åºåˆ—åˆ°æœ¬åœ°æ–‡ä»¶æˆ–è€…æ•°æ®åº“ä¸­ï¼›ï¼ˆ2ï¼‰é€šè¿‡åºåˆ—åŒ–ä»¥å­—èŠ‚æµçš„å½¢å¼ä½¿å¯¹è±¡åœ¨ç½‘ç»œä¸­è¿›è¡Œä¼ é€’å’Œæ¥æ”¶ï¼›ï¼ˆ3ï¼‰é€šè¿‡åºåˆ—åŒ–åœ¨è¿›ç¨‹é—´ä¼ é€’å¯¹è±¡ï¼› 3.åºåˆ—åŒ–ç®—æ³•ä¸€èˆ¬ä¼šæŒ‰æ­¥éª¤åšå¦‚ä¸‹äº‹æƒ…ï¼šï¼ˆ1ï¼‰å°†å¯¹è±¡å®ä¾‹ç›¸å…³çš„ç±»å…ƒæ•°æ®è¾“å‡ºã€‚ï¼ˆ2ï¼‰é€’å½’åœ°è¾“å‡ºç±»çš„è¶…ç±»æè¿°ç›´åˆ°ä¸å†æœ‰è¶…ç±»ã€‚ï¼ˆ3ï¼‰ç±»å…ƒæ•°æ®å®Œäº†ä»¥åï¼Œå¼€å§‹ä»æœ€é¡¶å±‚çš„è¶…ç±»å¼€å§‹è¾“å‡ºå¯¹è±¡å®ä¾‹çš„å®é™…æ•°æ®å€¼ã€‚ï¼ˆ4ï¼‰ä»ä¸Šè‡³ä¸‹é€’å½’è¾“å‡ºå®ä¾‹çš„æ•°æ® â€¦è¿™é‡Œæ˜¯Javaåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ä»£ç ç¤ºä¾‹â€¦. æ³¨: æœ¬æ–‡æ‘˜è‡ªhttps://blog.csdn.net/xlgen157387/article/details/79840134","categories":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/categories/django/"}],"tags":[{"name":"åºåˆ—åŒ–","slug":"åºåˆ—åŒ–","permalink":"https://www.leejia.me/tags/åºåˆ—åŒ–/"},{"name":"ååºåˆ—åŒ–","slug":"ååºåˆ—åŒ–","permalink":"https://www.leejia.me/tags/ååºåˆ—åŒ–/"},{"name":"ä¼ è¾“","slug":"ä¼ è¾“","permalink":"https://www.leejia.me/tags/ä¼ è¾“/"}]},{"title":"djangoå¼€å‘ä¹‹ç±»è§†å›¾","slug":"Djangoå¼€å‘ä¹‹ç±»è§†å›¾","date":"2018-09-01T04:28:08.000Z","updated":"2018-09-02T06:24:17.896Z","comments":true,"path":"django/django_classView_decorator.html","link":"","permalink":"https://www.leejia.me/django/django_classView_decorator.html","excerpt":"","text":"Djangoä¸­å¯ä»¥ä½¿ç”¨ç±»æ¥å®šä¹‰ä¸€ä¸ªè§†å›¾ã€‚ç§°ä¸ºç±»è§†å›¾ 123456789101112131415from django.views.generic import Viewfrom django.shortcuts import renderfrom django.views.generic import Viewclass RegisterView(View): \"\"\"ç±»è§†å›¾ï¼šå¤„ç†æ³¨å†Œ\"\"\" def get(self, request): \"\"\"å¤„ç†GETè¯·æ±‚ï¼Œè¿”å›æ³¨å†Œé¡µé¢\"\"\" return render(request, 'register.html') def post(self, request): \"\"\"å¤„ç†POSTè¯·æ±‚ï¼Œå®ç°æ³¨å†Œé€»è¾‘\"\"\" return HttpResponse('è¿™é‡Œå®ç°æ³¨å†Œé€»è¾‘') ç±»è§†å›¾ä½¿ç”¨123456# å¯¼åŒ…from django.views.generic import View# æ³¨å†Œurlpatterns = [ url(r'^register/$', views.RegisterView.as_view(), name='register')] ç±»è§†å›¾åŸç†1ç±»è§†å›¾æ˜¯ç»§æ‰¿äº†base.pyæ¨¡å—ä¸­éViewåŸºç±»ã€‚ä¸‹é¢æ˜¯æºç  12345678910111213141516171819202122232425262728class View(object): ...çœç•¥ @classonlymethod def as_view(cls, **initkwargs): # å› ä¸ºæˆ‘ä»¬å®šä¹‰çš„ç±»è§†å›¾ï¼Œå°±æ˜¯ç»§æ‰¿Viewç±»ã€‚æ‰€æœ‰è¿™é‡Œclså°±æ˜¯æŒ‡ä»£æˆ‘ä»¬å®šä¹‰çš„ç±»å¯¹è±¡ã€‚ ...çœç•¥ def view(request, *args, **kwargs): self = cls(**initkwargs) if hasattr(self, 'get') and not hasattr(self, 'head'): self.head = self.get self.request = request self.args = args self.kwargs = kwargs return self.dispatch(request, *args, **kwargs) ...çœç•¥ return view # è¿”å›çœŸæ­£çš„è§†å›¾å‡½æ•° def dispatch(self, request, *args, **kwargs): # Try to dispatch to the right method; if a method doesn't exist, # defer to the error handler. Also defer to the error handler if the # request method isn't on the approved list. if request.method.lower() in self.http_method_names: handler = getattr(self, request.method.lower(), self.http_method_not_allowed) else: handler = self.http_method_not_allowed return handler(request, *args, **kwargs) ...çœç•¥ ç±»è§†å›¾ä½¿ç”¨è£…é¥°å™¨æ–¹æ³•ä¸€ ã€åœ¨urlé…ç½®ä¸­è£…é¥°ã€‘ï¼ˆç±»è§†å›¾ä¸‹æ‰€æœ‰è¯·æ±‚æ–¹æ³•éƒ½ä¼šè¢«è£…é¥°ã€å› ä¸ºæ˜¯åœ¨è§†å›¾å…¥å£å¤„ï¼Œåˆ†å‘è¯·æ±‚ä¹‹å‰ã€‘ ç¼ºç‚¹ï¼š å•çœ‹è§†å›¾æ— æ³•çŸ¥é“æ·»åŠ äº†è£…é¥°å™¨ï¼Œä¸åˆ©äºä»£ç çš„å®Œæ•´æ€§ã€‚ï¼‰ 12345678910111213141516171819# ç¬¬ä¸€æ­¥å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨def my_decorator(func): def wrapper(request, *args, **kwargs): # è¿™é‡Œåšä¸€äº›é¢å¤–çš„äº‹æƒ… print(\"è‡ªå®šä¹‰è£…é¥°å™¨è¢«è°ƒç”¨äº†ã€‚ã€‚\") return func(request, *args, **kwargs) return wrapper# ç¬¬äºŒæ­¥å®šä¸€ä¸ªç±»è§†å›¾class DemoView(View): # ç»§æ‰¿è‡ªViewè¿™ä¸ªåŸºç±» def get(self, request): return HttpResponse(\"get...ok\") def post(self, request): return HttpResponse(\"post...ok\") # ç¬¬ä¸‰æ­¥ï¼Œ åœ¨urlé…ç½®ä¸­è£…é¥°urlpatterns = [ url(r'^demo/$', my_decorate(DemoView.as_view()))] æ–¹æ³•äºŒ ã€ç±»è§†å›¾ä¸­è£…é¥°ã€‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960from django.utils.decorators import method_decorator# ç±»è§†å›¾ä¸­è£…é¥°çš„ç¬¬ä¸€ç§# ä¸ºå…¨éƒ¨è¯·æ±‚æ–¹æ³•æ·»åŠ è£…é¥°å™¨class DemoView(View): # methos_decorator()åšäº†ä»€ä¹ˆäº‹æƒ…ï¼Ÿå¤„ç†äº†self,å› ä¸ºç±»ä¸­ç¬¬ä¸€ä¸ªå˜é‡éƒ½æ˜¯self # æ‰€ä»¥è¿˜å¯ä»¥ç›´æ¥åœ¨è£…é¥°å™¨ä¸­ï¼Œå‚æ•°ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ self è€Œä¸ç”¨methos_decorator() @method_decorator(my_decorator) def dispatch(self, *args, **kwargs): return super().dispatch(*args, **kwargs) def get(self, request): print('getæ–¹æ³•') return HttpResponse('ok') def post(self, request): print('postæ–¹æ³•') return HttpResponse('ok')# ç±»è§†å›¾ä¸­è£…é¥°çš„ç¬¬äºŒç§# ä¸ºç‰¹å®šè¯·æ±‚æ–¹æ³•æ·»åŠ è£…é¥°å™¨# æ³¨æ„è¿™é‡Œå› ä¸ºç»™ç‰¹å®šæ–¹æ³•æ·»åŠ è£…é¥°å™¨ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤å†™çˆ¶ç±»æ–¹æ³•ã€‚class DemoView(View): @method_decorator(my_decorator) def get(self, request): print('getæ–¹æ³•') return HttpResponse('ok') def post(self, request): print('postæ–¹æ³•') return HttpResponse('ok') # ç±»è§†å›¾ä¸­è£…é¥°çš„ç¬¬ä¸‰ç§# ä¸ºå…¨éƒ¨è¯·æ±‚æ–¹æ³•æ·»åŠ è£…é¥°å™¨@method_decorator(my_decorator, name='dispatch')class DemoView(View): def get(self, request): print('getæ–¹æ³•') return HttpResponse('ok') def post(self, request): print('postæ–¹æ³•') return HttpResponse('ok')# ç±»è§†å›¾ä¸­è£…é¥°çš„ç¬¬å››ç§# ä¸ºç‰¹å®šè¯·æ±‚æ–¹æ³•æ·»åŠ è£…é¥°å™¨@method_decorator(my_decorator, name='get')class DemoView(View): def get(self, request): print('getæ–¹æ³•') return HttpResponse('ok') def post(self, request): print('postæ–¹æ³•') return HttpResponse('ok') ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨method_decorator? åœ¨ä¸Šé¢å·²ç»åšäº†è¯´æ˜ã€‚ä¸‹é¢ç”¨ä»£ç è¯¦ç»†é˜è¿°ä¸€ä¸‹ã€‚ ä¸ºå‡½æ•°è§†å›¾å‡†å¤‡çš„è£…é¥°å™¨ï¼Œå…¶è¢«è°ƒç”¨æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºæ¥æ”¶requestå¯¹è±¡ 12345def my_decorate(func): def wrapper(request, *args, **kwargs): # ç¬¬ä¸€ä¸ªå‚æ•°requestå¯¹è±¡ ...ä»£ç çœç•¥... return func(request, *args, **kwargs) return wrapper è€Œç±»è§†å›¾ä¸­è¯·æ±‚æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯requestå¯¹è±¡ï¼Œè€Œæ˜¯self è§†å›¾å¯¹è±¡æœ¬èº«ï¼Œç¬¬äºŒä¸ªä½ç½®å‚æ•°æ‰æ˜¯requestå¯¹è±¡ 123456class DemoView(View): def dispatch(self, request, *args, **kwargs): ...ä»£ç çœç•¥... def get(self, request): ...ä»£ç çœç•¥... æ‰€ä»¥å¦‚æœç›´æ¥å°†ç”¨äºå‡½æ•°è§†å›¾çš„è£…é¥°å™¨è£…é¥°ç±»è§†å›¾æ–¹æ³•ï¼Œä¼šå¯¼è‡´å‚æ•°ä¼ é€’å‡ºç°é—®é¢˜ã€‚ method_decoratorçš„ä½œç”¨æ˜¯ä¸ºå‡½æ•°è§†å›¾è£…é¥°å™¨è¡¥å……ç¬¬ä¸€ä¸ªselfå‚æ•°ï¼Œä»¥é€‚é…ç±»è§†å›¾æ–¹æ³•ã€‚ å¦‚æœå°†è£…é¥°å™¨æœ¬èº«æ”¹ä¸ºå¯ä»¥é€‚é…ç±»è§†å›¾æ–¹æ³•çš„ï¼Œç±»ä¼¼å¦‚ä¸‹ï¼Œåˆ™æ— éœ€å†ä½¿ç”¨method_decoratorã€‚ 123456def my_decorator(func): def wrapper(self, request, *args, **kwargs): # æ­¤å¤„å¢åŠ äº†self print('è‡ªå®šä¹‰è£…é¥°å™¨è¢«è°ƒç”¨äº†') print('è¯·æ±‚è·¯å¾„%s' % request.path) return func(self, request, *args, **kwargs) # æ­¤å¤„å¢åŠ äº†self return wrapper æ–¹æ³•ä¸‰ æ„é€ Mixinæ‰©å±•ç±»ï¼ˆä½¿ç”¨é¢å‘å¯¹è±¡å¤šç»§æ‰¿çš„ç‰¹æ€§ï¼Œ å¯ä»¥ç»™å¤šä¸ªç±»ä½¿ç”¨è£…é¥°å™¨ æ‰€æœ‰è¯·æ±‚æ–¹æ³•å¦ä¼šæ·»åŠ è£…é¥°è¡Œä¸ºï¼‰ 12345678910111213141516171819202122# æ„é€ Mixinæ‰©å±•ç±» ä¸ç®¡æœ‰å‡ ä¸ªæ‰©å±•ç±»ï¼Œéƒ½è¦ç»§æ‰¿objectç±»class MyDecoratorMixin(object): # é‡å†™çˆ¶ç±»çš„as_view()æ–¹æ³• @classmethod def as_view(cls, *args, **kwargs): # è°ƒç”¨çˆ¶ç±»çš„as_view()ç±»æ–¹æ³• view = super().as_view(*args, **kwargs) # ä½¿ç”¨è£…é¥°å™¨é‡å†™çˆ¶ç±»çš„as_view()ç±»æ–¹æ³• view = my_decorator(view) return view # å®šä¹‰ç±»è§†å›¾ï¼Œæ³¨æ„éœ€è¦ç»§æ‰¿Mixinæ‰©å±•ç±»class DemoView(MyDecoratorMixin, View): def get(self, request): print('getæ–¹æ³•') return HttpResponse('ok') def post(self, request): print('postæ–¹æ³•') return HttpResponse('ok')","categories":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/categories/django/"}],"tags":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/tags/django/"},{"name":"ç±»è§†å›¾","slug":"ç±»è§†å›¾","permalink":"https://www.leejia.me/tags/ç±»è§†å›¾/"},{"name":"è£…é¥°å™¨","slug":"è£…é¥°å™¨","permalink":"https://www.leejia.me/tags/è£…é¥°å™¨/"},{"name":"as_view","slug":"as-view","permalink":"https://www.leejia.me/tags/as-view/"}]},{"title":"å…³äºcentosæ“ä½œç³»ç»Ÿå®‰è£…mysqlclientå¤±è´¥çš„è§£å†³æ–¹æ¡ˆ","slug":"å…³äºcentosæ“ä½œç³»ç»Ÿå®‰è£…mysqlclientå¤±è´¥çš„è§£å†³æ–¹æ¡ˆ","date":"2018-08-29T01:50:19.000Z","updated":"2018-08-30T10:50:54.923Z","comments":true,"path":"flask/mysqlclientpython.html","link":"","permalink":"https://www.leejia.me/flask/mysqlclientpython.html","excerpt":"","text":"ä½¿ç”¨CentOSåŸºæœ¬æºå®‰è£…Python2é“¾æ¥åº“1yum install python-devel ä½¿ç”¨CentOS EPELæºå®‰è£…Python3å¯¹åº”ç‰ˆæœ¬çš„é“¾æ¥åº“åŒ…1yum install python34-devel ç°åœ¨å†å®‰è£…mysqlclientå°±ä¸ä¼šå‡ºç°ç¼–è¯‘ä¸­æ–­ã€‚ 1error: command 'gcc' failed with exit status 1 è¿™æ ·çš„é”™è¯¯äº†. å®‰è£…: 1pip install mysqlclient åç»­å†å®‰è£…Flask-MySQLdb ä¹Ÿä¸ä¼šæŠ¥é”™å•¦.å®‰è£…: 1pip install flask-mysqldb","categories":[{"name":"flask","slug":"flask","permalink":"https://www.leejia.me/categories/flask/"}],"tags":[{"name":"flask","slug":"flask","permalink":"https://www.leejia.me/tags/flask/"},{"name":"mysqlclient","slug":"mysqlclient","permalink":"https://www.leejia.me/tags/mysqlclient/"}]},{"title":"å…³äºcentosæ“ä½œç³»ç»Ÿå®‰è£…MySQL-pythonå¤±è´¥çš„è§£å†³æ–¹æ¡ˆ","slug":"å…³äºcentosæ“ä½œç³»ç»Ÿå®‰è£…MySQL-pythonå¤±è´¥çš„è§£å†³æ–¹æ¡ˆ","date":"2018-08-29T01:42:03.000Z","updated":"2018-08-30T10:50:39.476Z","comments":true,"path":"flask/centos-have-no-mysql.html","link":"","permalink":"https://www.leejia.me/flask/centos-have-no-mysql.html","excerpt":"","text":"flaskè¿ç§»æ•°æ®åº“çš„æ—¶å€™ä¼šå‡ºç°.æ‰¾ä¸åˆ°mysqldbæ¨¡å—è¿™æ ·çš„æƒ…å†µ.åœ¨centosç³»ç»Ÿä¸Šæ–¹æ¡ˆä¸€å°±å¯ä»¥æœ‰æ•ˆè§£å†³.ä½†æ˜¯åœ¨ubuntu 16.04ä¸Šæ¨èä¼˜å…ˆä½¿ç”¨æ–¹æ¡ˆäºŒ. åŸå› MySQLdbä¸æ”¯æŒpython3.x æ–¹æ¡ˆä¸€centos ä½¿ç”¨yum æ˜¯æ‰¾ä¸åˆ°YSQL-pythonè¿™ä¸ªåŒ…çš„.æ‰€ä»¥éœ€è¦ä¸‹è½½å®‰è£…åŒ…æ‰§è¡Œå®‰è£…. å®‰è£…å®Œä¾èµ–åŒ…åï¼Œå¼€å§‹å®‰è£…MYSQL-pythonï¼š 1ã€ä¸‹è½½taråŒ…ï¼š æ‰§è¡Œï¼š 1wget https://pypi.python.org/packages/c8/8f/aedf47a2e973a2d2f225ac98537472fc928ad61b9647fb370870404c594b/MySQL-python-1.2.3c1.tar.gz#md5=310dd856e439d070b59ece6dd7a0734d å®Œæˆtarä¸‹è½½ 2ã€è§£å‹æ‰§è¡Œï¼š 1tar -xzvf MySQL-python-1.2.3c1.tar.gz è¿›å…¥è§£å‹ä¹‹åçš„æ–‡ä»¶å¤¹æ ¹ç›®å½• 3ã€ç¼–è¯‘(ç”¨python2 å¦‚æœåœ¨python3è™šæ‹Ÿç¯å¢ƒè¯·é€€å‡ºè™šæ‹Ÿç¯å¢ƒ) 1python setup.py build 4ã€å®‰è£…(ç”¨python2 å¦‚æœåœ¨python3è™šæ‹Ÿç¯å¢ƒè¯·é€€å‡ºè™šæ‹Ÿç¯å¢ƒ) 1python setup.py install ç»è¿‡ä¸Šè¿°æ­¥éª¤å°±å®Œæˆäº†MySQL-python æ–¹æ¡ˆäºŒå¦‚æœè¿˜æ˜¯ä¸èƒ½è§£å†³é—®é¢˜å¯ä»¥å°è¯•:ç”¨pymysqlæ¥ä»£æ›¿MySQLdbå…·ä½“ä½ç½®:__init.py__,manage.py12import pymysqlpymysql.install_as_MySQLdb()","categories":[{"name":"flask","slug":"flask","permalink":"https://www.leejia.me/categories/flask/"}],"tags":[{"name":"centos","slug":"centos","permalink":"https://www.leejia.me/tags/centos/"},{"name":"MYSQL-python","slug":"MYSQL-python","permalink":"https://www.leejia.me/tags/MYSQL-python/"},{"name":"mysql","slug":"mysql","permalink":"https://www.leejia.me/tags/mysql/"}]},{"title":"dockerå®‰è£…å’Œä½¿ç”¨","slug":"dockerå®‰è£…å’Œä½¿ç”¨","date":"2018-07-16T12:22:58.000Z","updated":"2018-10-15T05:32:34.160Z","comments":true,"path":"code/install_docker_and_use.html","link":"","permalink":"https://www.leejia.me/code/install_docker_and_use.html","excerpt":"","text":"ubuntuå®‰è£…æ›´æ–°ubuntuçš„aptæºç´¢å¼•1sudo apt-get update å®‰è£…åŒ…å…è®¸apté€šè¿‡HTTPSä½¿ç”¨ä»“åº“12345sudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ software-properties-common æ·»åŠ Dockerå®˜æ–¹GPG key1curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - è®¾ç½®Dockerç¨³å®šç‰ˆä»“åº“1234sudo add-apt-repository \\ \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) \\ stable\" æ·»åŠ ä»“åº“åï¼Œæ›´æ–°aptæºç´¢å¼•1sudo apt-get update å®‰è£…æœ€æ–°ç‰ˆDocker CEï¼ˆç¤¾åŒºç‰ˆï¼‰1sudo apt-get install docker-ce æ£€æŸ¥Docker CEæ˜¯å¦å®‰è£…æ­£ç¡®1sudo docker run hello-world å‡ºç°å¦‚ä¸‹ä¿¡æ¯ï¼Œè¡¨ç¤ºå®‰è£…æˆåŠŸ12345678910111213141516171819202122Status: Downloaded newer image for hello-world:latestHello from Docker!This message shows that your installation appears to be working correctly.To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (amd64) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal.To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bashShare images, automate workflows, and more with a free Docker ID: https://hub.docker.com/For more examples and ideas, visit: https://docs.docker.com/get-started/ å¯åŠ¨ä¸åœæ­¢å®‰è£…å®ŒæˆDockeråï¼Œé»˜è®¤å·²ç»å¯åŠ¨äº†dockeræœåŠ¡ï¼Œå¦‚éœ€æ‰‹åŠ¨æ§åˆ¶dockeræœåŠ¡çš„å¯åœï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ å¯åŠ¨docker1sudo service docker start åœæ­¢docker1sudo service docker stop é‡å¯docker1sudo service docker restart","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://www.leejia.me/tags/docker/"}]},{"title":"å¼€å‘è®°å½•ä¹‹djangoæ¡†æ¶æ•°æ®åº“è¿ç§»","slug":"å¼€å‘è®°å½•ä¹‹djangoæ¡†æ¶æ•°æ®åº“è¿ç§»","date":"2018-05-16T02:47:14.000Z","updated":"2018-10-15T05:35:44.735Z","comments":true,"path":"django/djang_migrate_dababase.html","link":"","permalink":"https://www.leejia.me/django/djang_migrate_dababase.html","excerpt":"","text":"è®°å½•ä»Šå¤©æ–°å»ºäº†ä¸€ä¸ªæ•°æ®åº“æ¨¡å‹, ä½†æ˜¯å´æ€ä¹ˆä¹Ÿè¿ç§»ä¸æˆåŠŸ.æ˜¾ç¤º:æ²¡æœ‰ä»»ä½•æ”¹å˜..12(shops_py3) âœ shops git:(dev) âœ— python manage.py makemigrationsNo changes detected åæ¥å¿½ç„¶æƒ³åˆ°ä¸€ä¸ªé—®é¢˜: æˆ‘åªæ˜¯å»ºç«‹äº†æ•°æ®æ¨¡å‹,ä½†æ˜¯å¹¶æ²¡æœ‰ä¸ªå’Œdjangoæ¡†æ¶æœ¬èº«å»ºç«‹è”ç³».å¾ˆæ˜¾ç„¶æˆ‘æ²¡æœ‰æ³¨å†Œappâ€¦.1234INSTALLED_APPS = [ .... 'areas.apps.AreasConfig',] æ³¨å†Œåå†æ‰§è¡Œæœç„¶å¦¥å¦¥çš„æˆåŠŸäº†~~~1(shops_py3) âœ shops git:(dev) âœ— python manage.py makemigrations 12345(shops_py3) âœ shops git:(dev) âœ— python manage.py makemigrationsMigrations for 'areas': shops/apps/areas/migrations/0001_initial.py - Create model Area(shops_py3) âœ shops git:(dev) âœ— python manage migrate æ€»ç»“å¼€å‘ä¸€å®šè¦å¿ƒç»†. ç»†èŠ‚é—®é¢˜ä¸èƒ½å‡ºé”™â€¦å› ä¸ºçœŸçš„å¾ˆéš¾æ’æŸ¥â€¦","categories":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/categories/django/"}],"tags":[{"name":"migrate","slug":"migrate","permalink":"https://www.leejia.me/tags/migrate/"},{"name":"database","slug":"database","permalink":"https://www.leejia.me/tags/database/"}]},{"title":"rest_frameworkçŸ¥è¯†ç‚¹ä¹‹:æ–¹æ³•get_seriazlier","slug":"rest-frameworkçŸ¥è¯†ç‚¹","date":"2018-05-09T07:29:44.000Z","updated":"2018-10-15T05:35:15.880Z","comments":true,"path":"django/django_rest_framework_get_seriazlier.html","link":"","permalink":"https://www.leejia.me/django/django_rest_framework_get_seriazlier.html","excerpt":"","text":"rest_frameworkä¸­get_seriazlier()æ–¹æ³•çš„ä½œç”¨. å…ˆçœ‹æ¡ˆä¾‹123456789101112class SMSCodeView(GenericAPIView): \"\"\"çŸ­ä¿¡éªŒè¯ç \"\"\" # å‚æ•°: mobile image_code_id, text serializer_class = ImageCodeCheckSerializer() def get(self, request, mobile): # æ ¡éªŒå‚æ•° (åºåˆ—åŒ–å™¨å®Œæˆ) # self.get_serializer()çš„ç›®çš„æ˜¯æŠŠrequest, view, format ä¼ åˆ°åºåˆ—åŒ–å™¨ä¸­.(çœ‹æºç ) serializer = self.get_serializer(data=request.query_params) serializer.is_valid(raise_exception=True) ...çœç•¥ä»£ç ... è¿™é‡Œserializer = self.get_serializer(data=request.query_params)ç›®çš„æœ‰ä¸‰ä¸ª:1.è·å–åºåˆ—åŒ–å™¨.serializer_class = ImageCodeCheckSerializer().2.æ–­è¨€3.æŠŠrequest, view,formatä¼ åˆ°åºåˆ—åŒ–å™¨ä¸­,ä»¥ä¾›åºåˆ—åŒ–å™¨æ ¡éªŒ.(å¦‚æœä¸çœ‹æºç ,è¿™é‡Œä¼šæ¯”è¾ƒéš¾ç†è§£.) çœ‹æºç 123456789101112131415161718192021222324252627282930313233class GenericAPIView(views.APIView): ...æ— å…³ä»£ç çœç•¥... queryset = None serializer_class = None ...æ— å…³ä»£ç çœç•¥... def get_serializer(self, *args, **kwargs): ...æ— å…³ä»£ç çœç•¥... # è¿™é‡Œè°ƒç”¨æ–¹æ³•get_serializer_class() ç›®çš„å°±æ˜¯è¿”å›åºåˆ—åŒ–å™¨!! serializer_class = self.get_serializer_class() # è¿™é‡Œç›®çš„æ˜¯è·å–å‚æ•°å¹¶åˆ†è£…åˆ°å­—å…¸ä¸­: reques, format, view kwargs['context'] = self.get_serializer_context() # è¿™é‡Œç›®çš„æ˜¯è¿”å›åºåˆ—åŒ–å™¨(æ­¤æ—¶å·²ç»æŠŠå‚æ•°å°è£…è¿›å»äº†.) return serializer_class(*args, **kwargs) def get_serializer_class(self): ...æ³¨é‡Šå’Œæ–­è¨€å¹²æ‰ä¸éœ€è¦çœ‹... # è¿™æ˜¯ç›®çš„æ˜¯: è¿”å›ç±»å±æ€§:åºåˆ—åŒ–å™¨ return self.serializer_class def get_serializer_context(self): ...æ³¨é‡Šä¸éœ€è¦çœ‹... # è¿™é‡Œç›®çš„æ˜¯è¿”å›å½“å‰ç±»è§†å›¾çš„request, format, viewå¹¶èµ‹å€¼ return &#123; 'request': self.request, 'format': self.format_kwarg, 'view': self &#125; æ€»ç»“è‡ªæ­¤: çœ‹æ˜ç™½æ‰èƒ½ç†è§£ä¸ºä»€ä¹ˆæ˜æ˜ç±»å±æ€§ä¸­æ˜æ˜æœ‰åºåˆ—åŒ–å™¨æˆ‘ä»¬è¿˜éœ€è¦ç»•ä¸€å¤§åœˆå»è·å–åºåˆ—åŒ–å™¨.åŸå› å¾ˆæ˜ç¡®,å°±æ˜¯ä¸ºäº†æŠŠå‚æ•°ä¼ é€’åˆ°åºåˆ—åŒ–å™¨ä¸­,ä»¥ä¾¿åºåˆ—åŒ–å™¨åšæ ¡éªŒ.","categories":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/categories/django/"}],"tags":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/tags/django/"},{"name":"rest_framework","slug":"rest-framework","permalink":"https://www.leejia.me/tags/rest-framework/"}]},{"title":"æ¯å¤©å®šæ—¶ä»»åŠ¡APScheduleræ¨¡å—","slug":"æ¯å¤©å®šæ—¶ä»»åŠ¡APScheduleræ¨¡å—","date":"2017-12-09T02:51:06.000Z","updated":"2018-10-15T05:34:31.029Z","comments":true,"path":"python/module_APScheduler.html","link":"","permalink":"https://www.leejia.me/python/module_APScheduler.html","excerpt":"","text":"æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©åŒä¸€æ—¶é—´ç‚¹å»å‘é€ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦å†™ä¸€ä¸ªå®šæ—¶ä»»åŠ¡äº†ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†APSchedulerè¿™ä¸ªåº“ï¼Œä¸äº†è§£çš„å»çœ‹ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œä»¥æ¯å¤©æ—©ä¸Š8ç‚¹é’Ÿä¸ºä¾‹ã€‚ å®‰è£…1pip install APScheduler APScheduler123456789APScheduleræ˜¯ä¸€ä¸ªpythonçš„ç¬¬ä¸‰æ–¹åº“ï¼Œç”¨æ¥æä¾›pythonçš„åå°ç¨‹åºã€‚åŒ…å«å››ä¸ªç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯ï¼štriggersï¼š ä»»åŠ¡è§¦å‘å™¨ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡è§¦å‘æ–¹å¼job storesï¼š ä»»åŠ¡å•†åº—ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡ä¿å­˜æ–¹å¼executorsï¼š ä»»åŠ¡è°ƒåº¦ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡è°ƒåº¦æ–¹å¼schedulersï¼š ä»»åŠ¡è°ƒåº¦ç»„ä»¶ï¼Œæä¾›ä»»åŠ¡å·¥ä½œæ–¹å¼ å…¥é—¨1234567891011121314from apscheduler.schedulers.blocking import BlockingSchedulerimport time# å®ä¾‹åŒ–ä¸€ä¸ªè°ƒåº¦å™¨scheduler = BlockingScheduler() def job1(): print \"%s: æ‰§è¡Œä»»åŠ¡\" % time.asctime()# æ·»åŠ ä»»åŠ¡å¹¶è®¾ç½®è§¦å‘æ–¹å¼ä¸º3sä¸€æ¬¡scheduler.add_job(job1, 'interval', seconds=3)# å¼€å§‹è¿è¡Œè°ƒåº¦å™¨scheduler.start() ä½¿ç”¨1234if __name__ == '__main__': print(get_time() + \" å¼€å§‹æ‰§è¡Œä»»åŠ¡\") scheduler.add_job(ä»»åŠ¡å‡½æ•°, 'cron', day_of_week='0-6', hour=8, minute=00, second=00) scheduler.start()","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/tags/python/"},{"name":"APScheduler","slug":"APScheduler","permalink":"https://www.leejia.me/tags/APScheduler/"},{"name":"å®šæ—¶ä»»åŠ¡","slug":"å®šæ—¶ä»»åŠ¡","permalink":"https://www.leejia.me/tags/å®šæ—¶ä»»åŠ¡/"}]},{"title":"è°ƒè¯•BUGåŸºæœ¬å§¿åŠ¿","slug":"æ‰¾BUGäº‹ä»¶å¿«ä¹çš„äº‹æƒ…","date":"2017-09-12T12:16:31.000Z","updated":"2018-10-15T05:29:09.466Z","comments":true,"path":"code/fing_bug.html","link":"","permalink":"https://www.leejia.me/code/fing_bug.html","excerpt":"","text":"è°ƒè¯•BUGåŸºæœ¬å§¿åŠ¿ï¼š æ‰“å¼€QQéŸ³ä¹ æ‰“æ–­ç‚¹è°ƒè¯• çœ‹æºç  å®ç°ä¸è¡Œå†csdn,googleâ€¦.. ä»Šå¤©åœ¨å¼€å‘djangoæ‰¾å›å¯†ç çš„åŠŸèƒ½.åœ¨è¿›å…¥ä¿®æ”¹å¯†ç é¡µé¢ä¹‹å‰éœ€è¦é’ˆå¯¹å½“å‰ç”¨æˆ·ç”Ÿæˆaccess_token.é”™è¯¯çš„æŠŠJTFçš„æ¥å£è°ƒç”¨è¿‡æ¥äº†â€¦â€¦ æ‰“æ–­ç‚¹æ’æŸ¥é¡ºåˆ©è§£å†³~","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"bug","slug":"bug","permalink":"https://www.leejia.me/tags/bug/"}]},{"title":"mkvirtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒæŠ¥é”™æ²¡æœ‰stevedoreæ¨¡å—è§£å†³æ–¹æ¡ˆ","slug":"mkvirtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒæŠ¥é”™æ²¡æœ‰stevedoreæ¨¡å—è§£å†³æ–¹æ¡ˆ","date":"2017-08-30T04:57:41.000Z","updated":"2018-10-15T05:31:00.037Z","comments":true,"path":"code/mkvirtualenv-stevedore-error.html","link":"","permalink":"https://www.leejia.me/code/mkvirtualenv-stevedore-error.html","excerpt":"","text":"äº‹å‘æœ‰å› ä¸€ç›´ä»¥æ¥æˆ‘éƒ½æ˜¯ä½¿ç”¨virtualenv venvæ¥åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„.ç„¶åä½¿ç”¨source venv/bin/activateæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ. è™šæ‹Ÿç¯å¢ƒè¶Šæ¥è¶Šå¤š,äºæ˜¯å°è¯•ä½¿ç”¨virtualenvwrapperæ¥ç®¡ç†è™šæ‹Ÿç¯å¢ƒ.pip install virtualenvwrapper æ²¡æœ‰é—®é¢˜.ä½†æ˜¯ä½¿ç”¨mkvirtualenvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå‡ºç°å¦‚ä¸‹é”™è¯¯: 1234567891011121314JetmodeMacBook-Proâœ ~ á… mkvirtualenv dj -p python3Already using interpreter /Library/Frameworks/Python.framework/Versions/3.6/bin/python3Using base prefix '/Library/Frameworks/Python.framework/Versions/3.6'New python executable in /Users/jetmo/.virtualenvs/dj/bin/python3Also creating executable in /Users/jetmo/.virtualenvs/dj/bin/pythonInstalling setuptools, pip, wheel...done.Traceback (most recent call last): File \"/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 174, in _run_module_as_main \"__main__\", fname, loader, pkg_name) File \"/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 72, in _run_code exec code in run_globals File \"/usr/local/lib/python2.7/site-packages/virtualenvwrapper-4.8.2-py2.7.egg/virtualenvwrapper/hook_loader.py\", line 16, in &lt;module&gt; from stevedore import ExtensionManagerImportError: No module named stevedore debugåŸå› æ˜¯ç¼ºå°‘stevedoreæ¨¡å—.ç›´æ¥å®‰è£…ä¼šç»§ç»­æŠ¥é”™,å¤šæ¬¡å°è¯•åæ‰¾åˆ°äº†è§£å†³åŠæ³•. æ–¹æ¡ˆä½¿ç”¨pip2å®‰è£…å¾ˆå¤šåŒå­¦åº”è¯¥éƒ½æ˜¯é»˜è®¤pip3ç‰ˆæœ¬,ä½†æ˜¯è¿™ä¸ªæ¨¡å—ä¸€å®šè¦ä½¿ç”¨pip2å®‰è£…(æˆ‘æ˜¯è¿™æ ·çš„). zshä¸­é”®å…¥pipåä¸¤æ¬¡tabé”®æ‰¾åˆ°é€‰æ‹©pip212sudo pip2 uninstall stevedore # å…ˆå¸è½½sudo pip2 install stevedore # å†å®‰è£… ç„¶åå†ä½¿ç”¨mkvirtualenv django_py3 -p python3 å®‰è£…è™šæ‹Ÿç¯å¢ƒå°±ä¸ä¼šæŠ¥é”™äº†. å»¶ä¼¸(è™šæ‹Ÿç¯å¢ƒ)å®‰è£…12sudo pip3 install virtualenvsudo pip3 install virtualenvwrapper é…ç½®12345678910# 1ã€åˆ›å»ºç›®å½•ç”¨æ¥å­˜æ”¾è™šæ‹Ÿç¯å¢ƒmkdir $HOME/.virtualenvs# 2ã€æ‰“å¼€~/.bashrcæ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ï¼šexport WORKON_HOME=$HOME/.virtualenvssource /usr/local/bin/virtualenvwrapper.sh# 3ã€è¿è¡Œsource ~/.bashrc åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ1mkvirtualenv -p python3 è™šæ‹Ÿç¯å¢ƒåç§° æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ1workon è™šæ‹Ÿç¯å¢ƒåç§° é€€å‡ºè™šæ‹Ÿç¯å¢ƒ1deactivate åˆ é™¤è™šæ‹Ÿç¯å¢ƒ1rmvirtualenv è™šæ‹Ÿç¯å¢ƒåç§°","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"stevedore","slug":"stevedore","permalink":"https://www.leejia.me/tags/stevedore/"},{"name":"virtualenv","slug":"virtualenv","permalink":"https://www.leejia.me/tags/virtualenv/"}]},{"title":"æœ€ç®€å•çš„djangoç¨‹åº","slug":"æœ€ç®€å•çš„djangoç¨‹åº","date":"2017-08-12T02:47:00.000Z","updated":"2018-10-15T05:30:33.792Z","comments":true,"path":"django/tiny-django-app.html","link":"","permalink":"https://www.leejia.me/django/tiny-django-app.html","excerpt":"","text":"æœ€ç®€å•çš„djangoç¨‹åº.åŒ…å«åˆ›å»ºå·¥ç¨‹,åˆ›å»ºä¸€ä¸ªapp,é…ç½®url,ç¼–è¾‘è§†å›¾å‡½æ•°, æ³¨å†Œapp åˆ›å»ºå·¥ç¨‹12django-admin startproject django_democd django_demo åˆ›å»ºapp1python manage.py startapp users æ³¨å†Œapp12# åœ¨settings.pyä¸­users.apps.UsersConfig ç¼–è¾‘è§†å›¾å‡½æ•°123456789101112# appä¸­ viewsæ¨¡å—ä¸­from django.http import HttpResponse# Create your views here.def index(request): \"\"\" è§†å›¾å‡½æ•° :param request: django é»˜è®¤çš„ç¬¬ä¸€ä¸ªå‚æ•°,ç”¨æˆ·æ¥æ”¶requestè¯·æ±‚ :return: å“åº”å¯¹è±¡ \"\"\" return HttpResponse(\"è¿™æ˜¯ç”¨æˆ·ç•Œé¢\") æ·»åŠ è§†å›¾url123456789# appä¸­åˆ›å»ºurlsæ¨¡å—from django.conf.urls import urlfrom . import viewsurlpatterns = [ # url(è·¯å¾„, è§†å›¾) url(r'^index/$', views.index),] urlå‰ç¼€123456789# åœ¨å…¨å±€urlsä¸­é…ç½®appfrom django.conf.urls import url, include...# ç±»æ¯”flaskä¸­è“å›¾å‰ç¼€urlpatterns = [ ... url(r'^users/', include('users.urls')),] å¯åŠ¨å·¥ç¨‹1python manage.py runserver è®¿é—®1http://127.0.0.1:8000/users/index","categories":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/categories/django/"}],"tags":[{"name":"django","slug":"django","permalink":"https://www.leejia.me/tags/django/"},{"name":"python","slug":"python","permalink":"https://www.leejia.me/tags/python/"}]},{"title":"gitåŸºæœ¬å‘½ä»¤","slug":"git","date":"2017-08-04T04:56:12.000Z","updated":"2018-10-15T05:27:39.780Z","comments":true,"path":"code/git.html","link":"","permalink":"https://www.leejia.me/code/git.html","excerpt":"","text":"git init åˆå§‹åŒ–git,å½“å‰æ–‡ä»¶å¤¹ä½¿ç”¨gitç®¡ç† git add . æ·»åŠ åˆ°æš‚å­˜åŒº git commit -m â€œä¿®æ”¹æ˜ç»†â€ æäº¤åˆ°æœ¬åœ°ä»“åº“ git status æŸ¥çœ‹çŠ¶æ€ git push æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨ git pull ä»è¿œç¨‹æœåŠ¡å™¨æ‹‰å–ä»£ç  git log / reflog æŸ¥çœ‹æ—¥è®° git reset HEAD^ å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬æˆ–è€…æŒ‡å®šç‰ˆæœ¬ git reset â€“hard 589e122 å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ git diff å¯¹æ¯” git rm åˆ é™¤ git checkout æ£€æŸ¥ æ ‡ç­¾ git tag -a v1.0 -m â€œversion 1.0â€ ç»™é¡¹ç›®æ‰“æ ‡ç­¾ git push origin v1.0 pushåˆ°è¿œç¨‹æœåŠ¡å™¨ git brach æŸ¥çœ‹å½“å‰åˆ†æ”¯ git checkout -b dev åˆ›å»ºdev åˆ†æ”¯ git push -u origin dev æŠŠå½“å‰åˆ†æ”¯åŒæ­¥åˆ°æœåŠ¡å™¨ git checkout master åˆ‡æ¢åˆ†æ”¯ git merge dev åˆå¹¶åˆ†æ”¯","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[{"name":"git","slug":"git","permalink":"https://www.leejia.me/tags/git/"},{"name":"github","slug":"github","permalink":"https://www.leejia.me/tags/github/"}]},{"title":"centosä¸‹å¯åŠ¨flaskç¨‹åº","slug":"centosä¸‹å¯åŠ¨flaskç¨‹åº","date":"2017-07-25T06:49:24.000Z","updated":"2018-10-15T05:31:44.813Z","comments":true,"path":"flask/centos-start-flask.html","link":"","permalink":"https://www.leejia.me/flask/centos-start-flask.html","excerpt":"","text":"centosç³»ç»Ÿä¸‹å®‰è£…ngnix(è´Ÿè´£è½¬å‘)1yum install ngnix é…ç½®ngnix1é…ç½®æ–‡ä»¶è·¯å¾„: /etc/nginx/nginx.conf 123456789101112131415161718192021222324252627# å¦‚æœæ˜¯å¤šå°æœåŠ¡å™¨çš„è¯ï¼Œåˆ™åœ¨æ­¤é…ç½®ï¼Œå¹¶ä¿®æ”¹ location èŠ‚ç‚¹ä¸‹é¢çš„ proxy_pass upstream flask &#123; server 127.0.0.1:5000; server 127.0.0.1:5001;&#125;server &#123; # ç›‘å¬80ç«¯å£ listen 80 default_server; listen [::]:80 default_server; root /var/www/html; index index.html index.htm index.nginx-debian.html; server_name _; location / &#123; # è¯·æ±‚è½¬å‘åˆ°gunicornæœåŠ¡å™¨ proxy_pass http://127.0.0.1:5000; # è¯·æ±‚è½¬å‘åˆ°å¤šä¸ªgunicornæœåŠ¡å™¨ # proxy_pass http://flask; # è®¾ç½®è¯·æ±‚å¤´ï¼Œå¹¶å°†å¤´ä¿¡æ¯ä¼ é€’ç»™æœåŠ¡å™¨ç«¯ proxy_set_header Host $host; # è®¾ç½®è¯·æ±‚å¤´ï¼Œä¼ é€’åŸå§‹è¯·æ±‚ipç»™ gunicorn æœåŠ¡å™¨ proxy_set_header X-Real-IP $remote_addr; &#125;&#125; å¯åŠ¨ngnixæœåŠ¡å™¨ 1nginx -c /etc/nginx/nginx.conf pythonè™šæ‹Ÿç¯å¢ƒä¸­å®‰è£… Gunicorn(wsgiåè®®çš„æœåŠ¡å™¨) 1pip install Gunicorn å¯åŠ¨\bGunicorn è¿›å…¥flaskç¨‹åºçš„å¯åŠ¨æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹.æ¯”å¦‚æˆ‘çš„å¯åŠ¨æ–‡ä»¶æ˜¯manage.pyé‚£ä¹ˆè¿è¡Œå‘½ä»¤å°±æ˜¯:1gunicorn -w 2 -b 127.0.0.1:5000 manage:app -D --reload 1å‚æ•°å«ä¹‰: -Dè¡¨ç¤ºåå°è¿è¡Œ. --reloadè¡¨ç¤ºé‡å¯Gunicorn.å·²ç»è¿è¡Œçš„ä¼šé‡æ–°å¯åŠ¨ä¸å¿…è¦å»killè¿›ç¨‹.","categories":[{"name":"flask","slug":"flask","permalink":"https://www.leejia.me/categories/flask/"}],"tags":[{"name":"flask","slug":"flask","permalink":"https://www.leejia.me/tags/flask/"},{"name":"ngnix","slug":"ngnix","permalink":"https://www.leejia.me/tags/ngnix/"}]},{"title":"linuxæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å†…å®¹å‘½ä»¤tailã€catã€tacã€headã€echo","slug":"linuxæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å†…å®¹å‘½ä»¤tailã€catã€tacã€headã€echo","date":"2017-07-21T12:29:49.000Z","updated":"2018-10-15T05:27:13.004Z","comments":true,"path":"python/linux_log_command.html","link":"","permalink":"https://www.leejia.me/python/linux_log_command.html","excerpt":"","text":"linuxæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å†…å®¹å‘½ä»¤tailã€catã€tacã€headã€echo1tail -f test.log ä½ ä¼šçœ‹åˆ°å±å¹•ä¸æ–­æœ‰å†…å®¹è¢«æ‰“å°å‡ºæ¥. è¿™æ—¶å€™ä¸­æ–­ç¬¬ä¸€ä¸ªè¿›ç¨‹Ctrl-C, linux å¦‚ä½•æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„æŸå‡ è¡Œ(ä¸­é—´å‡ è¡Œ) ä»ç¬¬3000è¡Œå¼€å§‹ï¼Œæ˜¾ç¤º1000è¡Œã€‚å³æ˜¾ç¤º3000~3999è¡Œ 1cat filename | tail -n +3000 | head -n 1000 æ˜¾ç¤º1000è¡Œåˆ°3000è¡Œ 1cat filename| head -n 3000 | tail -n +1000 æ³¨æ„ä¸¤ç§æ–¹æ³•çš„é¡ºåº åˆ†è§£ï¼š 123tail -n 1000ï¼šæ˜¾ç¤ºæœ€å1000è¡Œtail -n +1000ï¼šä»1000è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œæ˜¾ç¤º1000è¡Œä»¥åçš„head -n 1000ï¼šæ˜¾ç¤ºå‰é¢1000è¡Œ ç”¨sedå‘½ä»¤ 1sed -n '5,10p' filename è¿™æ ·ä½ å°±å¯ä»¥åªæŸ¥çœ‹æ–‡ä»¶çš„ç¬¬5è¡Œåˆ°ç¬¬10è¡Œã€‚ ä¾‹ï¼šcat mylog.log | tail -n 1000 #è¾“å‡ºmylog.log æ–‡ä»¶æœ€åä¸€åƒè¡Œ catä¸»è¦æœ‰ä¸‰å¤§åŠŸèƒ½ï¼š ä¸€æ¬¡æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶ã€‚$ cat filename ä»é”®ç›˜åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚$ cat &gt; filenameåªèƒ½åˆ›å»ºæ–°æ–‡ä»¶,ä¸èƒ½ç¼–è¾‘å·²æœ‰æ–‡ä»¶. å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼š1234567 $cat file1 file2 &gt; fileå‚æ•°ï¼š-n æˆ– --number ç”± 1 å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å·-b æˆ– --number-nonblank å’Œ -n ç›¸ä¼¼ï¼Œåªä¸è¿‡å¯¹äºç©ºç™½è¡Œä¸ç¼–å·-s æˆ– --squeeze-blank å½“é‡åˆ°æœ‰è¿ç»­ä¸¤è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œï¼Œå°±ä»£æ¢ä¸ºä¸€è¡Œçš„ç©ºç™½è¡Œ-v æˆ– --show-nonprinting ä¾‹ï¼šæŠŠ textfile1 çš„æ¡£æ¡ˆå†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ textfile2 è¿™ä¸ªæ¡£æ¡ˆé‡Œ1cat -n textfile1 &gt; textfile2 æŠŠ textfile1 å’Œ textfile2 çš„æ¡£æ¡ˆå†…å®¹åŠ ä¸Šè¡Œå·ï¼ˆç©ºç™½è¡Œä¸åŠ ï¼‰ä¹‹åå°†å†…å®¹é™„åŠ åˆ° textfile3 é‡Œã€‚1cat -b textfile1 textfile2 &gt;&gt; textfile3 æŠŠtest.txtæ–‡ä»¶æ‰”è¿›åƒåœ¾ç®±ï¼Œèµ‹ç©ºå€¼test.txt12cat /dev/null &gt; /etc/test.txt æ³¨æ„ï¼š&gt;æ„æ€æ˜¯åˆ›å»ºï¼Œ&gt;&gt;æ˜¯è¿½åŠ ã€‚åƒä¸‡ä¸è¦å¼„æ··äº†ã€‚ tac (åå‘åˆ—ç¤º)12tac æ˜¯å°† cat åå†™è¿‡æ¥ï¼Œæ‰€ä»¥ä»–çš„åŠŸèƒ½å°±è·Ÿ cat ç›¸åï¼Œ cat æ˜¯ç”±ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œè¿ç»­æ˜¾ç¤ºåœ¨è¤å¹•ä¸Šï¼Œè€Œ tac åˆ™æ˜¯ç”±æœ€åä¸€è¡Œåˆ°ç¬¬ä¸€è¡Œåå‘åœ¨è¤å¹•ä¸Šæ˜¾ç¤ºå‡ºæ¥ï¼ åœ¨Linuxä¸­echoå‘½ä»¤ç”¨æ¥åœ¨æ ‡å‡†è¾“å‡ºä¸Šæ˜¾ç¤ºä¸€æ®µå­—ç¬¦ï¼Œæ¯”å¦‚ï¼š1echo \"the echo command test!\" è¿™ä¸ªå°±ä¼šè¾“å‡ºâ€œthe echo command test!â€è¿™ä¸€è¡Œæ–‡å­—ï¼1echo \"the echo command test!\"&gt;a.sh è¿™ä¸ªå°±ä¼šåœ¨a.shæ–‡ä»¶ä¸­è¾“å‡ºâ€œthe echo command test!â€è¿™ä¸€è¡Œæ–‡å­—ï¼ è¯¥å‘½ä»¤çš„ä¸€èˆ¬æ ¼å¼ä¸ºï¼š echo [ -n ] å­—ç¬¦ä¸²å…¶ä¸­é€‰é¡¹nè¡¨ç¤ºè¾“å‡ºæ–‡å­—åä¸æ¢è¡Œï¼›å­—ç¬¦ä¸²èƒ½åŠ å¼•å·ï¼Œä¹Ÿèƒ½ä¸åŠ å¼•å·ã€‚ ç”¨echoå‘½ä»¤è¾“å‡ºåŠ å¼•å·çš„å­—ç¬¦ä¸²æ—¶ï¼Œå°†å­—ç¬¦ä¸²åŸæ ·è¾“å‡ºï¼› ç”¨echoå‘½ä»¤è¾“å‡ºä¸åŠ å¼•å·çš„å­—ç¬¦ä¸²æ—¶ï¼Œå°†å­—ç¬¦ä¸²ä¸­çš„å„ä¸ªå•è¯ä½œä¸ºå­—ç¬¦ä¸²è¾“å‡ºï¼Œå„å­—ç¬¦ä¸²ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼åˆ†å‰²ã€‚ æ‘˜è‡ª:https://www.cnblogs.com/zdz8207/p/linux-log-tail-cat-tac.html","categories":[{"name":"python","slug":"python","permalink":"https://www.leejia.me/categories/python/"}],"tags":[{"name":"tail","slug":"tail","permalink":"https://www.leejia.me/tags/tail/"},{"name":"cat","slug":"cat","permalink":"https://www.leejia.me/tags/cat/"},{"name":"head","slug":"head","permalink":"https://www.leejia.me/tags/head/"},{"name":"echo","slug":"echo","permalink":"https://www.leejia.me/tags/echo/"}]},{"title":"Hello World","slug":"hello-world","date":"2017-07-19T16:12:50.000Z","updated":"2018-10-15T05:25:42.005Z","comments":true,"path":"code/hello-world.html","link":"","permalink":"https://www.leejia.me/code/hello-world.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"code","slug":"code","permalink":"https://www.leejia.me/categories/code/"}],"tags":[]}]}